(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return ex_spec_boolean})),__webpack_require__.d(__webpack_exports__,"n",(function(){return ex_spec_map})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ex_spec_addressType})),__webpack_require__.d(__webpack_exports__,"p",(function(){return ex_spec_networkId})),__webpack_require__.d(__webpack_exports__,"g",(function(){return ex_spec_cat})),__webpack_require__.d(__webpack_exports__,"w",(function(){return ex_spec_zeroOrOne})),__webpack_require__.d(__webpack_exports__,"j",(function(){return ex_spec_epochTag})),__webpack_require__.d(__webpack_exports__,"s",(function(){return ex_spec_password})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ex_spec_arr})),__webpack_require__.d(__webpack_exports__,"r",(function(){return ex_spec_or})),__webpack_require__.d(__webpack_exports__,"q",(function(){return ex_spec_nul})),__webpack_require__.d(__webpack_exports__,"u",(function(){return ex_spec_string})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ex_spec_epochRef})),__webpack_require__.d(__webpack_exports__,"v",(function(){return ex_spec_truep})),__webpack_require__.d(__webpack_exports__,"k",(function(){return ethHexAddress})),__webpack_require__.d(__webpack_exports__,"m",(function(){return hexUserAddress})),__webpack_require__.d(__webpack_exports__,"o",(function(){return mnemonic})),__webpack_require__.d(__webpack_exports__,"t",(function(){return privateKey})),__webpack_require__.d(__webpack_exports__,"l",(function(){return hdPath})),__webpack_require__.d(__webpack_exports__,"h",(function(){return dbid})),__webpack_require__.d(__webpack_exports__,"c",(function(){return base32AccountMainnetAddress})),__webpack_require__.d(__webpack_exports__,"d",(function(){return base32AccountTestnetAddress})),__webpack_require__.d(__webpack_exports__,"e",(function(){return base32Address}));var ex_spec_boolean,ex_spec_map,ex_spec_addressType,ex_spec_networkId,ex_spec_defBase32AddressSchemaFactory,ex_spec_cat,ex_spec_zeroOrOne,ex_spec_epochTag,ex_spec_password,ex_spec_arr,ex_spec_or,ex_spec_nul,ex_spec_defRestSchemas,ex_spec_string,ex_spec_epochRef,ex_spec_integer,ex_spec_truep,shared=__webpack_require__(1301),Xr=function(a,b,c){return new shared.a.Ge(null,(function(){var d=shared.a.K(c);if(d){var e=shared.a.Ff(a,d);return a===shared.a.P(e)?shared.a.ve(e,Xr(a,b,shared.a.Gf(b,d))):null}return null}),null)},Zr=function(a){return shared.a.Jf((function(b){return!shared.a.Cd(b)}),shared.a.Oc(function(a){return function d(c){return new shared.a.Ge(null,(function(){if(shared.a.y(shared.a.Cd.g?shared.a.Cd.g(c):shared.a.Cd.call(null,c))){var e=shared.a.R([shared.a.K.g?shared.a.K.g(c):shared.a.K.call(null,c)]);e=shared.a.We(shared.a.fn,shared.a.Xe(shared.a.Oh,d,e))}else e=null;return shared.a.ve(c,e)}),null)}(a)}(a)))},spec_$r=function $r(a,b,c){var e=shared.a.K(b);b=shared.a.N(e);var f=shared.a.O(e);if(f){e=shared.a.Nf.i;var g=shared.a.U.h(a,b);c=$r.i?$r.i(g,f,c):$r.call(null,g,f,c),a=e.call(shared.a.Nf,a,b,c)}else a=shared.a.Nf.i(a,b,c);return a},as=new shared.a.W(null,"privateKey","privateKey",1845961641),bs=new shared.a.W(null,"hexContractAddress","hexContractAddress",-893096304),cs=new shared.a.W(null,"hexUserAddress","hexUserAddress",1842704561),ds=new shared.a.W(null,"randomPrivateKey","randomPrivateKey",1183021577),es=new shared.a.W(null,"INTERNAL_CONTRACTS_HEX_ADDRESS","INTERNAL_CONTRACTS_HEX_ADDRESS",1890509993),fs=new shared.a.W(null,"randomHDPath","randomHDPath",-672829199),gs=new shared.a.W(null,"epoch-ref","epoch-ref",-48908512),hs=new shared.a.W(null,"randomHexAddress","randomHexAddress",1570574414),is=new shared.a.W(null,"hexBuiltInAddress","hexBuiltInAddress",1280085039),js=new shared.a.W(null,"undefined","undefined",-1970511116),ks=new shared.a.W("cfxjs.spec.core","schema","cfxjs.spec.core/schema",-2104791549),ls=new shared.a.W(null,"hexNullAddress","hexNullAddress",-1249531275),ms=new shared.a.W(null,"validateHDPath","validateHDPath",-1924266109),ns=new shared.a.W(null,"epoch-tag","epoch-tag",-1905188154),os=new shared.a.W(null,"hd-path","hd-path",-1739234499),ps=new shared.a.W(null,"validateMnemonic","validateMnemonic",-1802951577),qs=new shared.a.W(null,"hexString","hexString",608989661),rs=new shared.a.W(null,"validatePrivateKey","validatePrivateKey",2114592353),ss=new shared.a.W(null,"nil","nil",99600501),ts=new shared.a.W(null,"generateMnemonic","generateMnemonic",-1133348254),us=new shared.a.W(null,"address-type","address-type",921859604),vs=new shared.a.W(null,"network-id","network-id",-1769267262),spec_ws=function ws(a){for(var c=[],d=arguments.length,e=0;e<d;)c.push(arguments[e]),e+=1;return ws.j(arguments[0],1<c.length?new shared.a.J(c.slice(1),0,null):null)};spec_ws.j=function(a,b){b=Xr(2,2,b);var c=shared.a.N(b),d=shared.a.T(c,0,null);return c=shared.a.T(c,1,null),d=shared.a.R([shared.a.Fd(d)?d:new shared.a.X(null,1,5,shared.a.Y,[d],null),c]),d=shared.a.Xe(spec_$r,shared.a.mm.g(a),d),a=shared.a.Wl(shared.a.om.g(a),shared.a.K(d)?d:null,shared.a.qm.g(a),shared.a.Vj(shared.a.zk(a,null))),b=Zr(shared.a.Oc(b)),shared.a.yd(b)?a:shared.a.Xe(spec_ws,a,b)},spec_ws.B=1,spec_ws.D=function(a){var b=shared.a.N(a);return a=shared.a.O(a),this.j(b,a)};var spec_xs=function xs(a){switch(arguments.length){case 2:return xs.h(arguments[0],arguments[1]);case 3:return xs.i(arguments[0],arguments[1],arguments[2]);case 4:return xs.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",shared.a.D.g(arguments.length)].join(""))}};spec_xs.h=function(a,b){return spec_xs.N(a,b,null,null)},spec_xs.i=function(a,b,c){return spec_xs.N(a,b,c,null)},spec_xs.N=function(a,b,c,d){var e="number"==typeof c?c:"number"==typeof d?d:null,f="string"==typeof c?c:"string"==typeof d?d:null;return c=shared.a.y(e)?["-",shared.a.D.g(e.toString())].join(""):"",c=shared.a.Ph.g(["base32Address",c,shared.a.y(f)?["-",f].join(""):""].join("")),shared.a.ml(new shared.a.w(null,3,[shared.a.Z,c,shared.a.gl,function(g){return a.i?a.i(g,f,e):a.call(null,g,f,e)},shared.a.il,new shared.a.w(null,3,[shared.a.wm,"invalid base32 address",shared.a.kp,["Conflux base32 address",shared.a.y(shared.a.y(f)?f:e)?shared.a.y(shared.a.y(f)?e:f)?[f,"' address type and '",shared.a.D.g(e),"' network id"].join(""):shared.a.y(f)?[f,"' address type"].join(""):shared.a.y(e)?[shared.a.D.g(e),"' network id"].join(""):null:null].join(""),shared.a.Vp,function(){return b.call(null,e,f)}],null)],null))},spec_xs.B=4;var ys=spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.Kn,new shared.a.w(null,2,[shared.a.hk,8,shared.a.ik,128],null)],null),shared.a.R([shared.a.kp,"String between 8 to 128 character",shared.a.Z,shared.a.un])),zs=spec_ws.j(new shared.a.X(null,4,5,shared.a.Y,[shared.a.Lp,shared.a.oo,new shared.a.X(null,2,5,shared.a.Y,[shared.a.xn,0],null),new shared.a.X(null,2,5,shared.a.Y,[shared.a.lo,4294967295],null)],null),shared.a.R([shared.a.Z,vs,shared.a.kp,"1029 for mainnet, 1 for testnet, 0 <= networkId <= 4294967295"])),As=spec_ws.j(new shared.a.X(null,5,5,shared.a.Y,[shared.a.iq,"user","contract","builtin","null"],null),shared.a.R([shared.a.Z,us,shared.a.kp,"Is string, one of user contract builtin null"])),Bs=shared.a.ml(new shared.a.w(null,3,[shared.a.Z,ss,shared.a.gl,shared.a.cb,shared.a.il,new shared.a.w(null,3,[shared.a.wm,"should be null or cljs nil",shared.a.kp,"javascript null or cljs nil",shared.a.Vp,function(){function a(b){if(0<arguments.length)for(var c=0,d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c;return null}return a.B=0,a.D=function(b){return shared.a.K(b),null},a.j=function(){return null},a}()],null)],null)),Cs=RegExp,Ds=spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.yl,/^0(x|X)?[a-fA-F0-9]+$/],null),shared.a.R([shared.a.Z,qs,shared.a.Vp,function(){return["0x",shared.a.D.g(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))].join("")},shared.a.wm,"invalid hex string",shared.a.kp,"hexadecimal string"])),Es=shared.a.ml(new shared.a.w(null,3,[shared.a.Z,js,shared.a.gl,function(){return shared.a.Q.g(void 0)},shared.a.il,new shared.a.w(null,3,[shared.a.wm,"should be undefined",shared.a.kp,"javascript undefined",shared.a.Vp,function(){function a(b){if(0<arguments.length)for(var c=0,d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c}return a.B=0,a.D=function(b){shared.a.K(b)},a.j=function(){},a}()],null)],null)),Fs=spec_ws.j(new shared.a.X(null,7,5,shared.a.Y,[shared.a.iq,"latest_mined","latest_confirmed","latest_state","latest_checkpoint","earliest",null],null),shared.a.R([shared.a.Z,ns,shared.a.wm,"must be one of latest_mined, latest_confirmed, latest_state, latest_checkpoint, earliest or null",shared.a.kp,"one of latest_mined, latest_confirmed, latest_state, latest_checkpoint, earliest or null"])),Gs=spec_ws.j(new shared.a.X(null,3,5,shared.a.Y,[shared.a.no,Fs,Ds],null),shared.a.R([shared.a.Z,gs,shared.a.wm,"invalid epoch ref, check the doc at https://developer.conflux-chain.org/conflux-doc/docs/json_rpc#the-epoch-number-parameter",shared.a.kp,"epoch number tag, check the doc at https://developer.conflux-chain.org/conflux-doc/docs/json_rpc#the-epoch-number-parameter"])),Hs=spec_ws.j(new shared.a.X(null,5,5,shared.a.Y,[shared.a.iq,"latest","earliest","pending",null],null),shared.a.R([shared.a.Z,ns,shared.a.wm,"invalid block tag, must be one of latest pending earliest or null",shared.a.kp,"one of latest pending earliest or null"]));spec_ws.j(new shared.a.X(null,3,5,shared.a.Y,[shared.a.no,Hs,Ds],null),shared.a.R([shared.a.Z,gs,shared.a.wm,"invalid block ref, must be one of latest, pwnding, earliest, block number or null",shared.a.kp,"one of latest, pwnding, earliest, block number or null"])),shared.a.Ai,shared.a.Pn,shared.a.Ld,shared.a.we,shared.a.Eo,shared.a.up,shared.a.fq,shared.a.So,shared.a.iq,ex_spec_boolean=shared.a.Wn,shared.a.Kd,ex_spec_map=shared.a.up,shared.a.ib,ex_spec_addressType=As,ex_spec_networkId=zs,shared.a.Rp,shared.a.oe,shared.a.Dd,shared.a.gd,shared.a.ne,shared.a.fq,shared.a.Be,ex_spec_defBase32AddressSchemaFactory=spec_xs,ex_spec_cat=shared.a.io,shared.a.Tk,shared.a.ro,shared.a.dq,ex_spec_zeroOrOne=shared.a.Co,ex_spec_epochTag=Fs,shared.a.Io,shared.a.Co,shared.a.dq,shared.a.Yp,shared.a.hb,shared.a.Hq,shared.a.Qd,shared.a.Wc,shared.a.$n,shared.a.oo,shared.a.eb,shared.a.Ep,shared.a.Md,shared.a.Fd,ex_spec_password=ys,shared.a.Kq,shared.a.Cl,shared.a.Id,shared.a.$p,shared.a.Ud,ex_spec_arr=shared.a.Po,shared.a.Ad,shared.a.Jo,shared.a.jq,shared.a.Bd,shared.a.Td,ex_spec_or=shared.a.no,ex_spec_nul=Bs,shared.a.yl,shared.a.Sd,shared.a.gb,shared.a.zd,shared.a.Jq,shared.a.me,shared.a.Fq,shared.a.xn,shared.a.yd,ex_spec_defRestSchemas=function(a){a=shared.a.di(a,shared.a.R([shared.a.ei,!0])),a=shared.a.df(a);var b=shared.a.U.h(a,es),c=shared.a.U.h(a,hs),d=shared.a.U.h(a,ds),e=shared.a.U.h(a,ps),f=shared.a.U.h(a,ts),g=shared.a.U.h(a,rs),k=shared.a.U.h(a,ms),h=shared.a.U.h(a,fs);return a=shared.a.fi(b),{hdPath:shared.a.ml(new shared.a.w(null,3,[shared.a.Z,os,shared.a.gl,function(l){return"string"==typeof l&&(k.g?k.g(l):k.call(null,l))},shared.a.il,new shared.a.w(null,3,[shared.a.wm,"should be a valid hdPath without the last address index",shared.a.kp,"hd wallet derivation path without the last address_index, check https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#abstract for detail",shared.a.Vp,function(){return h.call()}],null)],null)),mnemonic:shared.a.ml(new shared.a.w(null,3,[shared.a.Z,shared.a.Pp,shared.a.gl,function(l){return"string"==typeof l&&(e.g?e.g(l):e.call(null,l))},shared.a.il,new shared.a.w(null,3,[shared.a.wm,"should be a valid mnemonic",shared.a.kp,"Mnemonic phrase",shared.a.Vp,function(){return f.call()}],null)],null)),privateKey:shared.a.ml(new shared.a.w(null,3,[shared.a.Z,as,shared.a.gl,function(l){return g.g?g.g(l):g.call(null,l)},shared.a.il,new shared.a.w(null,3,[shared.a.wm,"invalid private key",shared.a.kp,"0x-prefixed private key",shared.a.Vp,function(){return d.call()}],null)],null)),ethHexAddress:spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.yl,/^0x[0-9a-fA-F]{40}$/],null),shared.a.R([shared.a.Vp,function(){return c.call()},shared.a.wm,"invalid hex address",shared.a.kp,"0x-prefixed address"])),hexUserAddress:spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.yl,/^0x1[0-9a-fA-F]{39}$/],null),shared.a.R([shared.a.Z,cs,shared.a.Vp,function(){return c.call(null,"user")},shared.a.wm,"invalid hex user address",shared.a.kp,"Conflux hex user address"])),hexContractAddress:spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.yl,/^0x8[0-9a-fA-F]{39}$/],null),shared.a.R([shared.a.Z,bs,shared.a.wm,"invalid hex contract address",shared.a.kp,"Conflux hex user address",shared.a.Vp,function(){return c.call(null,"contract")}])),hexBuiltInAddress:spec_ws.j(shared.a.lh.h(new shared.a.X(null,1,5,shared.a.Y,[shared.a.iq],null),a),shared.a.R([shared.a.Z,is,shared.a.wm,["invalid hex builtin address, can only be one of ",shared.a.D.g(a)].join(""),shared.a.kp,"Hex address of conflux internal contract, can be found at https://confluxscan.io/contracts",shared.a.Gn,a])),hexNullAddress:spec_ws.j(new shared.a.X(null,2,5,shared.a.Y,[shared.a.$n,"0x0000000000000000000000000000000000000000"],null),shared.a.R([shared.a.Z,ls,shared.a.kp,"Null address: 0x0000000000000000000000000000000000000000",shared.a.wm,"invalid hex null address, should be 0x0000000000000000000000000000000000000000"]))}},ex_spec_string=shared.a.Kn,shared.a.Po,shared.a.Ph,shared.a.Hp,ex_spec_epochRef=Gs,shared.a.Dd,shared.a.Hc,shared.a.Rd,shared.a.vn,ex_spec_integer=shared.a.Pd,shared.a.Vd,shared.a.re,shared.a.Lo,shared.a.Lq,shared.a.Qp,shared.a.eq,shared.a.Vn,ex_spec_truep=shared.a.Jd,shared.a.jb,shared.a.Cd,shared.a.ro,shared.a.ze,shared.a.Cn,shared.a.lo,shared.a.Lp,shared.a.xi,shared.a.Ae,shared.a.Yk;var consts=__webpack_require__(1332),account=__webpack_require__(1305),src=__webpack_require__(1313),base32_address=__webpack_require__(1320),hdkey=__webpack_require__(1334),_defRestSchemas=ex_spec_defRestSchemas({INTERNAL_CONTRACTS_HEX_ADDRESS:consts.b,NULL_HEX_ADDRESS:consts.c,validatePrivateKey:account.g,randomHexAddress:account.d,randomCfxHexAddress:account.c,randomPrivateKey:account.e,validateMnemonic:src.validateMnemonic,generateMnemonic:src.generateMnemonic,validateHDPath:hdkey.c,randomHDPath:hdkey.b}),ethHexAddress=_defRestSchemas.ethHexAddress,hexUserAddress=_defRestSchemas.hexUserAddress,mnemonic=(_defRestSchemas.hexContractAddress,_defRestSchemas.hexBuiltInAddress,_defRestSchemas.hexNullAddress,_defRestSchemas.mnemonic),privateKey=_defRestSchemas.privateKey,hdPath=_defRestSchemas.hdPath,Base32AddressSchemaCache=new Map,defBase32AddressSchema=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var schema=Base32AddressSchemaCache.get(args);return schema||(schema=ex_spec_defBase32AddressSchemaFactory.apply(void 0,[base32_address.c,base32_address.b].concat(args)),Base32AddressSchemaCache.set(args,schema),schema)},dbid=ex_spec_integer,base32AccountMainnetAddress=defBase32AddressSchema("user",1029),base32AccountTestnetAddress=defBase32AddressSchema("user",1),base32Address=defBase32AddressSchema();defBase32AddressSchema("user"),defBase32AddressSchema("contract"),defBase32AddressSchema("builtin")},1305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return toAccountAddress})),__webpack_require__.d(__webpack_exports__,"d",(function(){return randomHexAddress})),__webpack_require__.d(__webpack_exports__,"b",(function(){return randomAddressType})),__webpack_require__.d(__webpack_exports__,"c",(function(){return randomCfxHexAddress})),__webpack_require__.d(__webpack_exports__,"e",(function(){return randomPrivateKey})),__webpack_require__.d(__webpack_exports__,"g",(function(){return validatePrivateKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return fromPrivate}));var random=function(bytes){var rnd;if("undefined"==typeof window||!window.crypto||!window.crypto.getRandomValues)throw"Safe random numbers not available.";rnd=window.crypto.getRandomValues(new Uint8Array(bytes));for(var hex="0x",i=0;i<bytes;++i)hex+=("00"+rnd[i].toString(16)).slice(-2);return hex},pad=function(l,hex){return hex.length===2*l+2?hex:pad(l,"0x0"+hex.slice(2))},concat=function(a,b){return a.concat(b.slice(2))},fromNat=function(bn){return"0x0"===bn?"0x":bn.length%2==0?bn:"0x0"+bn.slice(2)},lib_bn=__webpack_require__(256),bn_default=__webpack_require__.n(lib_bn),toBN=function(str){return new bn_default.a(str.slice(2),16)},nat_fromString=function(str){var bn="0x"+("0x"===str.slice(0,2)?new bn_default.a(str.slice(2),16):new bn_default.a(str,10)).toString("hex");return"0x0"===bn?"0x":bn},bin=function(method){return function(a,b){return"0x"+toBN(a)[method](toBN(b)).toString("hex")}},elliptic=(bin("add"),bin("mul"),bin("div"),bin("sub"),__webpack_require__(257)),elliptic_default=__webpack_require__.n(elliptic),HEX_CHARS="0123456789abcdef".split(""),KECCAK_PADDING=[1,256,65536,16777216],SHIFT=[0,8,16,24],RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=function(s){var h,l,n,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16,b17,b18,b19,b20,b21,b22,b23,b24,b25,b26,b27,b28,b29,b30,b31,b32,b33,b34,b35,b36,b37,b38,b39,b40,b41,b42,b43,b44,b45,b46,b47,b48,b49;for(n=0;n<48;n+=2)c0=s[0]^s[10]^s[20]^s[30]^s[40],c1=s[1]^s[11]^s[21]^s[31]^s[41],c2=s[2]^s[12]^s[22]^s[32]^s[42],c3=s[3]^s[13]^s[23]^s[33]^s[43],c4=s[4]^s[14]^s[24]^s[34]^s[44],c5=s[5]^s[15]^s[25]^s[35]^s[45],c6=s[6]^s[16]^s[26]^s[36]^s[46],c7=s[7]^s[17]^s[27]^s[37]^s[47],h=(c8=s[8]^s[18]^s[28]^s[38]^s[48])^(c2<<1|c3>>>31),l=(c9=s[9]^s[19]^s[29]^s[39]^s[49])^(c3<<1|c2>>>31),s[0]^=h,s[1]^=l,s[10]^=h,s[11]^=l,s[20]^=h,s[21]^=l,s[30]^=h,s[31]^=l,s[40]^=h,s[41]^=l,h=c0^(c4<<1|c5>>>31),l=c1^(c5<<1|c4>>>31),s[2]^=h,s[3]^=l,s[12]^=h,s[13]^=l,s[22]^=h,s[23]^=l,s[32]^=h,s[33]^=l,s[42]^=h,s[43]^=l,h=c2^(c6<<1|c7>>>31),l=c3^(c7<<1|c6>>>31),s[4]^=h,s[5]^=l,s[14]^=h,s[15]^=l,s[24]^=h,s[25]^=l,s[34]^=h,s[35]^=l,s[44]^=h,s[45]^=l,h=c4^(c8<<1|c9>>>31),l=c5^(c9<<1|c8>>>31),s[6]^=h,s[7]^=l,s[16]^=h,s[17]^=l,s[26]^=h,s[27]^=l,s[36]^=h,s[37]^=l,s[46]^=h,s[47]^=l,h=c6^(c0<<1|c1>>>31),l=c7^(c1<<1|c0>>>31),s[8]^=h,s[9]^=l,s[18]^=h,s[19]^=l,s[28]^=h,s[29]^=l,s[38]^=h,s[39]^=l,s[48]^=h,s[49]^=l,b0=s[0],b1=s[1],b32=s[11]<<4|s[10]>>>28,b33=s[10]<<4|s[11]>>>28,b14=s[20]<<3|s[21]>>>29,b15=s[21]<<3|s[20]>>>29,b46=s[31]<<9|s[30]>>>23,b47=s[30]<<9|s[31]>>>23,b28=s[40]<<18|s[41]>>>14,b29=s[41]<<18|s[40]>>>14,b20=s[2]<<1|s[3]>>>31,b21=s[3]<<1|s[2]>>>31,b2=s[13]<<12|s[12]>>>20,b3=s[12]<<12|s[13]>>>20,b34=s[22]<<10|s[23]>>>22,b35=s[23]<<10|s[22]>>>22,b16=s[33]<<13|s[32]>>>19,b17=s[32]<<13|s[33]>>>19,b48=s[42]<<2|s[43]>>>30,b49=s[43]<<2|s[42]>>>30,b40=s[5]<<30|s[4]>>>2,b41=s[4]<<30|s[5]>>>2,b22=s[14]<<6|s[15]>>>26,b23=s[15]<<6|s[14]>>>26,b4=s[25]<<11|s[24]>>>21,b5=s[24]<<11|s[25]>>>21,b36=s[34]<<15|s[35]>>>17,b37=s[35]<<15|s[34]>>>17,b18=s[45]<<29|s[44]>>>3,b19=s[44]<<29|s[45]>>>3,b10=s[6]<<28|s[7]>>>4,b11=s[7]<<28|s[6]>>>4,b42=s[17]<<23|s[16]>>>9,b43=s[16]<<23|s[17]>>>9,b24=s[26]<<25|s[27]>>>7,b25=s[27]<<25|s[26]>>>7,b6=s[36]<<21|s[37]>>>11,b7=s[37]<<21|s[36]>>>11,b38=s[47]<<24|s[46]>>>8,b39=s[46]<<24|s[47]>>>8,b30=s[8]<<27|s[9]>>>5,b31=s[9]<<27|s[8]>>>5,b12=s[18]<<20|s[19]>>>12,b13=s[19]<<20|s[18]>>>12,b44=s[29]<<7|s[28]>>>25,b45=s[28]<<7|s[29]>>>25,b26=s[38]<<8|s[39]>>>24,b27=s[39]<<8|s[38]>>>24,b8=s[48]<<14|s[49]>>>18,b9=s[49]<<14|s[48]>>>18,s[0]=b0^~b2&b4,s[1]=b1^~b3&b5,s[10]=b10^~b12&b14,s[11]=b11^~b13&b15,s[20]=b20^~b22&b24,s[21]=b21^~b23&b25,s[30]=b30^~b32&b34,s[31]=b31^~b33&b35,s[40]=b40^~b42&b44,s[41]=b41^~b43&b45,s[2]=b2^~b4&b6,s[3]=b3^~b5&b7,s[12]=b12^~b14&b16,s[13]=b13^~b15&b17,s[22]=b22^~b24&b26,s[23]=b23^~b25&b27,s[32]=b32^~b34&b36,s[33]=b33^~b35&b37,s[42]=b42^~b44&b46,s[43]=b43^~b45&b47,s[4]=b4^~b6&b8,s[5]=b5^~b7&b9,s[14]=b14^~b16&b18,s[15]=b15^~b17&b19,s[24]=b24^~b26&b28,s[25]=b25^~b27&b29,s[34]=b34^~b36&b38,s[35]=b35^~b37&b39,s[44]=b44^~b46&b48,s[45]=b45^~b47&b49,s[6]=b6^~b8&b0,s[7]=b7^~b9&b1,s[16]=b16^~b18&b10,s[17]=b17^~b19&b11,s[26]=b26^~b28&b20,s[27]=b27^~b29&b21,s[36]=b36^~b38&b30,s[37]=b37^~b39&b31,s[46]=b46^~b48&b40,s[47]=b47^~b49&b41,s[8]=b8^~b0&b2,s[9]=b9^~b1&b3,s[18]=b18^~b10&b12,s[19]=b19^~b11&b13,s[28]=b28^~b20&b22,s[29]=b29^~b21&b23,s[38]=b38^~b30&b32,s[39]=b39^~b31&b33,s[48]=b48^~b40&b42,s[49]=b49^~b41&b43,s[0]^=RC[n],s[1]^=RC[n+1]},keccak=function(bits){return function(str){var msg;if("0x"===str.slice(0,2)){msg=[];for(var i=2,l=str.length;i<l;i+=2)msg.push(parseInt(str.slice(i,i+2),16))}else msg=str;return function(state,message){for(var i,code,length=message.length,blocks=state.blocks,byteCount=state.blockCount<<2,blockCount=state.blockCount,outputBlocks=state.outputBlocks,s=state.s,index=0;index<length;){if(state.reset)for(state.reset=!1,blocks[0]=state.block,i=1;i<blockCount+1;++i)blocks[i]=0;if("string"!=typeof message)for(i=state.start;index<length&&i<byteCount;++index)blocks[i>>2]|=message[index]<<SHIFT[3&i++];else for(i=state.start;index<length&&i<byteCount;++index)(code=message.charCodeAt(index))<128?blocks[i>>2]|=code<<SHIFT[3&i++]:code<2048?(blocks[i>>2]|=(192|code>>6)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):code<55296||code>=57344?(blocks[i>>2]|=(224|code>>12)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):(code=65536+((1023&code)<<10|1023&message.charCodeAt(++index)),blocks[i>>2]|=(240|code>>18)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>12&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]);if(state.lastByteIndex=i,i>=byteCount){for(state.start=i-byteCount,state.block=blocks[blockCount],i=0;i<blockCount;++i)s[i]^=blocks[i];f(s),state.reset=!0}else state.start=i}if(blocks[(i=state.lastByteIndex)>>2]|=KECCAK_PADDING[3&i],state.lastByteIndex===byteCount)for(blocks[0]=blocks[blockCount],i=1;i<blockCount+1;++i)blocks[i]=0;for(blocks[blockCount-1]|=2147483648,i=0;i<blockCount;++i)s[i]^=blocks[i];f(s);for(var block,hex="",k=0,j=0;j<outputBlocks;){for(k=0;k<blockCount&&j<outputBlocks;++k,++j)block=s[k],hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[15&block]+HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]+HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]+HEX_CHARS[block>>28&15]+HEX_CHARS[block>>24&15];j%blockCount==0&&(f(s),k=0)}return"0x"+hex}(function(bits){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(bits<<1)>>5,outputBlocks:bits>>5,s:(s=[0,0,0,0,0,0,0,0,0,0],[].concat(s,s,s,s,s))};var s}(bits),msg)}},keccak256=keccak(256),keccak256s=(keccak(512),keccak(256)),node_modules_buffer=(keccak(512),__webpack_require__(51)),utils=__webpack_require__(1311),consts=__webpack_require__(1332);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var addToV,secp256k1=elliptic_default.a.ec("secp256k1"),create=function(entropy){var innerHex=keccak256(concat(random(32),entropy||random(32))),middleHex=concat(concat(random(32),innerHex),random(32)),outerHex=keccak256(middleHex);return fromPrivate(outerHex)},toChecksum=function(address){for(var addressHash=keccak256s(address.slice(2)),checksumAddress="0x",i=0;i<40;i++)checksumAddress+=parseInt(addressHash[i+2],16)>7?address[i+2].toUpperCase():address[i+2];return checksumAddress},fromPrivate=function(privateKey){var buffer=node_modules_buffer.Buffer.from(privateKey.slice(2),"hex"),publicKey="0x"+secp256k1.keyFromPrivate(buffer).getPublic(!1,"hex").slice(2),publicHash=keccak256(publicKey);return{address:toChecksum("0x"+publicHash.slice(-40)),privateKey:privateKey}},toAccountAddress=(addToV=27,function(address){return address.replace(/^0x./,"0x1")}),randomHexAddress=function(type,entropy){if(type&&!consts.a.includes(type))throw new Error("Invalid address type "+type);if("builtin"===type)return consts.b[Object(utils.a)(consts.b.length)];if("null"===type)return consts.c;var addr=create(entropy).address;return"user"===type?toAccountAddress(addr):"contract"===type?addr.replace(/^0x./,"0x8"):addr},randomAddressType=function(){return consts.a[Object(utils.a)(consts.a.length)]},randomCfxHexAddress=function(entropy){return randomHexAddress(randomAddressType(),entropy)},randomPrivateKey=function(entropy){return create(entropy).privateKey},validatePrivateKey=function(privateKey){var valid=!1;try{var rst=fromPrivate(privateKey);valid=Boolean(rst.address)}catch(err){valid=!1}return valid}},1311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return randomInt}));__webpack_require__(133);var strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1312),strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__.d(__webpack_exports__,"b",(function(){return strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1___default.a}));__webpack_require__(1306);var randomInt=function(a){return Math.floor(Math.random()*a)}},1320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return base32_address_decode})),__webpack_require__.d(__webpack_exports__,"c",(function(){return validateBase32Address})),__webpack_require__.d(__webpack_exports__,"b",(function(){return randomBase32Address}));for(var bn=__webpack_require__(256),bn_default=__webpack_require__.n(bn),ALPHABET="abcdefghjkmnprstuvwxyz0123456789",ALPHABET_MAP={},z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(void 0!==ALPHABET_MAP[x])throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(pre){var b=pre.shrn(35),mask=new bn_default.a("07ffffffff",16),v=pre.and(mask).shln(5);return b.and(new bn_default.a("1")).toNumber()>0&&(v=v.xor(new bn_default.a("98f2bc8e61",16))),b.and(new bn_default.a("2")).toNumber()&&(v=v.xor(new bn_default.a("79b76d99e2",16))),b.and(new bn_default.a("4")).toNumber()&&(v=v.xor(new bn_default.a("f33e5fb3c4",16))),b.and(new bn_default.a("8")).toNumber()&&(v=v.xor(new bn_default.a("ae2eabe2a8",16))),b.and(new bn_default.a("16")).toNumber()&&(v=v.xor(new bn_default.a("1e4f43e470",16))),v}function prefixChk(prefix){for(var chk=new bn_default.a("1"),i=0;i<prefix.length;++i){var c=prefix.charCodeAt(i),mixwith=new bn_default.a(""+(31&c));chk=polymodStep(chk).xor(mixwith)}return chk=polymodStep(chk)}function encode(prefix,words){if(prefix.length+8+1+words.length>90)throw new TypeError("Exceeds Base32 maximum length");for(var chk=prefixChk(prefix=prefix.toLowerCase()),result=prefix+":",i=0;i<words.length;++i){var _x=words[i];if(_x>>>5!=0)throw new Error("Non 5-bit word");chk=polymodStep(chk).xor(new bn_default.a(_x,16)),result+=ALPHABET.charAt(_x)}for(var _i=0;_i<8;++_i)chk=polymodStep(chk);chk=chk.xor(new bn_default.a("1"));for(var _i2=0;_i2<8;++_i2){var pos=5*(7-_i2),v2=chk.shrn(pos).and(new bn_default.a("1f",16));result+=ALPHABET.charAt(v2.toString(10))}return result}function convert(data,inBits,outBits,pad){for(var value=0,bits=0,maxV=(1<<outBits)-1,result=[],i=0;i<data.length;++i)for(value=value<<inBits|data[i],bits+=inBits;bits>=outBits;)bits-=outBits,result.push(value>>>bits&maxV);if(pad)bits>0&&result.push(value<<outBits-bits&maxV);else{if(bits>=inBits)throw new Error("Excess padding");if(value<<outBits-bits&maxV)throw new Error("Non-zero padding")}return result}function toWords(bytes){return convert(bytes,8,5,!0)}var buffer=__webpack_require__(51),account=__webpack_require__(1305),utils=__webpack_require__(1311);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function encodeNetId(netId){if(!Number.isInteger(netId))throw new Error("netId should be passed as an integer");if(netId<=0||netId>4294967295)throw new Error("netId should be passed as in range [1, 0xFFFFFFFF]");switch(netId){case 1:return"cfxtest";case 1029:return"cfx";default:return"net"+netId}}function decodeNetId(payload){switch(payload){case"cfxtest":return 1;case"cfx":return 1029;default:var prefix=payload.slice(0,3),netId=payload.slice(3);if("net"!==prefix||!function isValidNetId(netId){return/^([1-9]\d*)$/.test(netId)&&Number(netId)<=4294967295}(netId))throw new Error("netId prefix should be passed by 'cfx', 'cfxtest' or 'net[n]' ");if(1===Number(netId)||1029===Number(netId))throw new Error("net1 or net1029 are invalid");return Number(netId)}}function encodePayload(hexAddress){return buffer.Buffer.concat([buffer.Buffer.from([0]),hexAddress])}function decodePayload(payload){if(0!==payload[0])throw new Error("Can not recognize version byte");return buffer.Buffer.from(payload.slice(1))}function getAddressType(hexAddress){if(hexAddress.length<1)throw new Error("Empty payload in address");switch(240&hexAddress[0]){case 16:return"user";case 128:return"contract";case 0:var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(hexAddress);try{for(_iterator.s();!(_step=_iterator.n()).done;){if(0!==_step.value)return"builtin"}}catch(err){_iterator.e(err)}finally{_iterator.f()}return"null";default:throw new Error("hexAddress should start with 0x0, 0x1 or 0x8")}}function base32_address_encode(hexAddress,netId){var verbose=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(hexAddress instanceof buffer.Buffer))throw new Error("hexAddress should be passed as a Buffer");if(hexAddress.length<20)throw new Error("hexAddress should be at least 20 bytes");var addressType=getAddressType(hexAddress),encodedAddress=encode(encodeNetId(netId),toWords(encodePayload(hexAddress)));if(verbose){var _encodedAddress$split=encodedAddress.split(":"),_encodedAddress$split2=_slicedToArray(_encodedAddress$split,2),prefix=_encodedAddress$split2[0],payload=_encodedAddress$split2[1];encodedAddress=[prefix,"type."+addressType,payload].join(":").toUpperCase()}return encodedAddress}function base32_address_decode(address){var lowered=address.toLowerCase(),uppered=address.toUpperCase();if(address!==lowered&&address!==uppered)throw new Error("Mixed-case address "+address);var splits=address.split(":"),shouldHaveType="",reducedAddress=address;3===splits.length&&(shouldHaveType=splits[1],reducedAddress=[splits[0],splits[2]].join(":"));var result=function decode(str){if(str.length<8)throw new TypeError(str+" too short");if(str.length>90)throw new TypeError(str+" too long");var lowered=str.toLowerCase(),uppered=str.toUpperCase();if(str!==lowered&&str!==uppered)throw new Error("Mixed-case string "+str);var split=lowered.lastIndexOf(":");if(-1===split)throw new Error("No separator character for "+lowered);if(0===split)throw new Error("Missing prefix for "+lowered);var prefix=lowered.slice(0,split),wordChars=lowered.slice(split+1);if(wordChars.length<6)throw new Error("Data too short");for(var chk=prefixChk(prefix),words=[],i=0;i<wordChars.length;++i){var c=wordChars.charAt(i),v=ALPHABET_MAP[c];if(void 0===v)throw new Error("Unknown character "+c);chk=polymodStep(chk).xor(new bn_default.a(""+v)),i+8>=wordChars.length||words.push(v)}if("1"!==chk.toString(10))throw new Error("Invalid checksum for "+lowered);return{prefix:prefix,words:words}}(reducedAddress),data=function fromWords(words){return convert(words,5,8,!1)}(result.words);if(data.length<1)throw new Error("Empty payload in address");var returnValue={hexAddress:decodePayload(data),netId:decodeNetId(result.prefix),type:getAddressType(decodePayload(data))};if(""!==shouldHaveType&&"type."+returnValue.type!==shouldHaveType.toLowerCase())throw new Error("Type of address doesn't match");return returnValue}function validateBase32Address(address){var netId,type,decoded,valid=!1;if(null!=(arguments.length<=1?void 0:arguments[1])){if(Number.isSafeInteger(arguments.length<=1?void 0:arguments[1]))netId=arguments.length<=1?void 0:arguments[1];else{if("string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=1?void 0:arguments[1]}if(null!=(arguments.length<=2?void 0:arguments[2]))if(Number.isSafeInteger(arguments.length<=2?void 0:arguments[2]))netId=arguments.length<=2?void 0:arguments[2];else{if("string"!=typeof(arguments.length<=2?void 0:arguments[2]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=2?void 0:arguments[2]}}try{decoded=base32_address_decode(address),valid=!0,void 0!==netId&&netId!==decoded.netId&&(valid=!1),void 0!==type&&type!==decoded.type&&(valid=!1)}catch(err){valid=!1}return valid}var randomBase32Address=function(){var netId,type;if(null!=(arguments.length<=0?void 0:arguments[0])){if(Number.isSafeInteger(arguments.length<=0?void 0:arguments[0]))netId=arguments.length<=0?void 0:arguments[0];else{if("string"!=typeof(arguments.length<=0?void 0:arguments[0]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=0?void 0:arguments[0]}if(null!=(arguments.length<=1?void 0:arguments[1]))if(Number.isSafeInteger(arguments.length<=1?void 0:arguments[1]))netId=arguments.length<=1?void 0:arguments[1];else{if("string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=1?void 0:arguments[1]}}void 0===type&&(type=Object(account.b)()),void 0===netId&&(netId=1029);var hexAddress=Object(utils.b)(Object(account.d)(type));return base32_address_encode(buffer.Buffer.from(hexAddress,"hex"),netId)}},1332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return NULL_HEX_ADDRESS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return INTERNAL_CONTRACTS_HEX_ADDRESS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ADDRESS_TYPES}));var NULL_HEX_ADDRESS="0x0000000000000000000000000000000000000000",INTERNAL_CONTRACTS_HEX_ADDRESS=["0x0888000000000000000000000000000000000000","0x0888000000000000000000000000000000000001","0x0888000000000000000000000000000000000002"],ADDRESS_TYPES=["user","contract","builtin","null"]},1334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return randomHDPath})),__webpack_require__.d(__webpack_exports__,"c",(function(){return validateHDPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getNthAccountOfHDKey}));var bip39__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1313),ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1314),_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1311),ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1340),buffer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51);function randomHDPathIndex(){return Object(_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__.a)(ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_3__.HDKey.HARDENED_OFFSET)}var randomHDPath=function(){return`m/44'/${randomHDPathIndex()}'/${randomHDPathIndex()}'/${Object(_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__.a)(randomHDPathIndex())}`},validateHDPath=function(hdPath){var valid=!0;try{var levels=hdPath.split("/");valid=(valid=valid&&5===levels.length&&"m"===levels[0]&&"44'"===levels[1]&&levels[2].endsWith("'")&&levels[3].endsWith("'"))&&Boolean(ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__.hdkey.fromMasterSeed(buffer__WEBPACK_IMPORTED_MODULE_4__.Buffer.from("df37c5b5fc335f2b448457104a591b0b8792ae4a60c484879d0114b84ca78b1b82503103b489e9087241cc4838561f2dcb43652702d58f8c45a3fa52d04696c3","hex")).derivePath(hdPath))}catch(err){valid=!1}return valid},getNthAccountOfHDKey=async function(_ref){for(var mnemonic=_ref.mnemonic,hdPath=_ref.hdPath,nth=_ref.nth,_ref$only0x1Prefixed=_ref.only0x1Prefixed,only0x1Prefixed=void 0!==_ref$only0x1Prefixed&&_ref$only0x1Prefixed,k=await async function(mnemonic){var hdPath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m/44'/503'/0'/0",seed=await Object(bip39__WEBPACK_IMPORTED_MODULE_0__.mnemonicToSeed)(mnemonic);return ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__.hdkey.fromMasterSeed(seed).derivePath(hdPath)}(mnemonic,hdPath),result={},count=0,idx=0;count<=nth;){var newWallet=k.deriveChild(idx++).getWallet();result.address="0x"+newWallet.getAddress().toString("hex"),result.privateKey="0x"+newWallet.getPrivateKey().toString("hex"),only0x1Prefixed&&result.address.startsWith("0x1")&&count++,only0x1Prefixed||count++}return result.index=idx-1,result}},1429:function(module,exports){},260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="cfx_epochNumber",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.r,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j],_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.q]},cache={type:"ttl",ttl:500,key:function(_ref){return"EPOCH"+_ref.params[0]}},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f({params:params})}},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="cfx_getAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.g,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.e,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.i]]},cache={type:"epoch",key:function(_ref){var params=_ref.params;return`${NAME}${params[0]}`}},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f({params:params})}},262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1319),_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1334),_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1305),NAME="wallet_createAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0},["vaultId",{doc:"natural number, id of vault in database"},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.h],["only0x1Prefixed",{optional:!0,doc:"only create 0x1-prefixed account(both in conflux and ethereum-like chains) if specify true"},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v],["hdPath",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]]},permissions={db:["createAccount","getPassword","getVaultById"]},main=async function(_ref){var _ref$db=_ref.db,createAccount=_ref$db.createAccount,getPassword=_ref$db.getPassword,getVaultById=_ref$db.getVaultById,_ref$params=_ref.params,vaultId=_ref$params.vaultId,only0x1Prefixed=_ref$params.only0x1Prefixed,hdPath=_ref$params.hdPath,Err=_ref.Err,password=getPassword();if(!password)throw Err.InvalidRequest("Wallet is locked");var vault=getVaultById(vaultId);if(!vault)throw Err.InvalidParams("Invalid vault id "+vaultId);var decrypted=await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,vault.data);if("hd"===vault.type){var accounts=vault.accounts,nth=accounts.length;only0x1Prefixed&&(nth=accounts.filter((function(account){return Number.isInteger(account.hdIndex)&&account.ethHexAddress&&account.ethHexAddress.startsWith("0x1")})).length);try{var _await$getNthAccountO=await Object(_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_2__.a)({mnemonic:decrypted,only0x1Prefixed:only0x1Prefixed,nth:nth,hdPath:hdPath||void 0}),address=_await$getNthAccountO.address,index=_await$getNthAccountO.index;return createAccount({ethHexAddress:address=address.toLowerCase(),cfxHexAddress:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(address),hdIndex:index,vault:vaultId})}catch(err){throw Err.InvalidParams("Invalid hdPath "+hdPath)}}if(only0x1Prefixed)throw Err.InvalidParams("Don't support only0x1Prefixed account on none hd wallet");if(hdPath)throw Err.InvalidParams("Don't support hdPath on none hd wallet");if("pk"===vault.type){var _address=Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.a)(decrypted).address;return createAccount({ethHexAddress:_address=_address.toLowerCase(),cfxHexAddress:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(_address),vault:vaultId})}if("pub"===vault.type){var account={vault:vaultId,cfxHexAddress:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(decrypted.toLowerCase())};return vault.cfxOnly||(account.ethHexAddress=decrypted.toLowerCase()),createAccount(account)}throw Err.InvalidParams("Invalid vault id "+vaultId)}},263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1320),_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1305),base=[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0}],hex=["hex",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v],base32=["base32",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v],addrType=["type",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.a],cfx=["cfx",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v],ethAddressSchema=[].concat(base,[hex,["eth",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v]]),cfxHexAddressSchema=[].concat(base,[hex,cfx,addrType]),cfxBase32AddressSchema=[].concat(base,[base32,cfx,addrType,["networkId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p]]),schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.r,ethAddressSchema,cfxHexAddressSchema,cfxBase32AddressSchema]},main=function(_ref){var _ref$params=_ref.params,eth=_ref$params.eth,base32=_ref$params.base32,hex=_ref$params.hex,networkId=_ref$params.networkId,type=_ref$params.type;return eth?Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.d)():hex?function(type){return type?Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.d)(type):Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.c)()}(type):base32?Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_1__.b)(type,networkId):void 0}},264:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var bip39__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1313),_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1300),NAME="wallet_generateMnemonic",schemas={output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.o},main=function(){return Object(bip39__WEBPACK_IMPORTED_MODULE_0__.generateMnemonic)()}},265:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_account__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1305),_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1300),NAME="wallet_generatePrivateKey",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.r,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.q,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.n,["entropy",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.u]]],output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.t};async function main(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},params=_ref.params;return Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_0__.e)(null==params?void 0:params.entropy)}},266:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="wallet_getVaults",schemas={output:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.u]},permissions={db:["getVault"]};async function main(_ref){return(0,_ref.db.getVault)()}},267:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="wallet_importAddress",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s],["address",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.r,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.m,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.d]]]},permissions={methods:["wallet_addVault"]},main=async function(_ref){var params=_ref.params,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault(params)}},268:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="wallet_importMnemonic",permissions={methods:["wallet_addVault"]},schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0},["mnemonic",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.o],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s]]},main=async function(_ref){var params=_ref.params,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault(params)}},269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="wallet_importPrivateKey",permissions={methods:["wallet_addVault"]},schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0},["privateKey",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.t],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s]]},main=async function(_ref){var params=_ref.params,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault(params)}},270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var NAME="wallet_isLocked",permissions={db:["getLocked"]},main=function(_ref){return(0,_ref.db.getLocked)()}},271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var NAME="wallet_lock",permissions={db:["setLocked"]},main=async function(_ref){(0,_ref.db.setLocked)(!0)}},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),NAME="wallet_unlock",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s]]},permissions={methods:["wallet_validatePassword"],db:["setPassword"]},main=async function(_ref){var password=_ref.params.password,setPassword=_ref.db.setPassword,wallet_validatePassword=_ref.rpcs.wallet_validatePassword,Err=_ref.Err;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");setPassword(password)}},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1300),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1319),NAME="wallet_validatePassword",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s]],output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f},permissions={methods:["wallet_getVaults"]};async function main(_ref){var wallet_getVaults=_ref.rpcs.wallet_getVaults,password=_ref.params.password,vaults=await wallet_getVaults();if(!vaults.length)return!0;var valid=!1;try{await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,vaults[0].data),valid=!0}catch(err){valid=!1}return valid}},274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var spec=__webpack_require__(1300),browser_passworder=__webpack_require__(1319),compose=__webpack_require__(1342),base32_address=__webpack_require__(1320),NAME="wallet_addVault",baseInputSchema=[spec.n,{closed:!0},["password",spec.s]],menomicSchema=[].concat(baseInputSchema,[["mnemonic",spec.o]]),privateKeySchema=[].concat(baseInputSchema,[["privateKey",spec.t]]),addressSchema=[].concat(baseInputSchema,[["address",[spec.r,spec.k,spec.c,spec.d]]]),schemas={input:[spec.r,menomicSchema,privateKeySchema,addressSchema]},permissions={methods:["wallet_validatePassword","wallet_getVaults"],db:["createVault"]};async function main(_ref){var createVault=_ref.db.createVault,_ref$params=_ref.params,password=_ref$params.password,mnemonic=_ref$params.mnemonic,privateKey=_ref$params.privateKey,address=_ref$params.address,_ref$rpcs=_ref.rpcs,wallet_getVaults=_ref$rpcs.wallet_getVaults,wallet_validatePassword=_ref$rpcs.wallet_validatePassword,Err=_ref.Err;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");var vault={};if(vault.data=mnemonic||privateKey||address,privateKey)vault.type="pk";else if(mnemonic)vault.type="hd";else if(address){var validateResult=function(address){return Object(base32_address.c)(address)?{cfxOnly:!0,address:Object(base32_address.a)(address).hexAddress}:{address:address,cfxOnly:!1}}(address);vault.type="pub",vault.data=validateResult.address,vault.cfxOnly=validateResult.cfxOnly}var vaults=await wallet_getVaults();if((await Promise.all(vaults.map(Object(compose.a)((function(v){return v.data}),Object(compose.b)(browser_passworder.decrypt,password),(function(p){return p.then((function(data){return data===vault.data}))}))))).includes(!0))throw Err.InvalidParams("Duplicate credential");vault.data=await Object(browser_passworder.encrypt)(password,vault.data),createVault(vault)}}}]);