(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return ex_spec_arrp})),__webpack_require__.d(__webpack_exports__,"m",(function(){return ex_spec_enums})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ex_spec_boolean})),__webpack_require__.d(__webpack_exports__,"s",(function(){return ex_spec_map})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ex_spec_addressType})),__webpack_require__.d(__webpack_exports__,"v",(function(){return ex_spec_networkId})),__webpack_require__.d(__webpack_exports__,"g",(function(){return ex_spec_blockRef})),__webpack_require__.d(__webpack_exports__,"j",(function(){return ex_spec_cat})),__webpack_require__.d(__webpack_exports__,"E",(function(){return ex_spec_zeroOrOne})),__webpack_require__.d(__webpack_exports__,"o",(function(){return ex_spec_epochTag})),__webpack_require__.d(__webpack_exports__,"k",(function(){return ex_spec_dbid})),__webpack_require__.d(__webpack_exports__,"B",(function(){return ex_spec_stringp})),__webpack_require__.d(__webpack_exports__,"r",(function(){return ex_spec_int})),__webpack_require__.d(__webpack_exports__,"y",(function(){return ex_spec_password})),__webpack_require__.d(__webpack_exports__,"t",(function(){return ex_spec_maybe})),__webpack_require__.d(__webpack_exports__,"x",(function(){return ex_spec_or})),__webpack_require__.d(__webpack_exports__,"w",(function(){return ex_spec_nul})),__webpack_require__.d(__webpack_exports__,"l",(function(){return ex_spec_empty})),__webpack_require__.d(__webpack_exports__,"A",(function(){return ex_spec_string})),__webpack_require__.d(__webpack_exports__,"n",(function(){return ex_spec_epochRef})),__webpack_require__.d(__webpack_exports__,"C",(function(){return ex_spec_truep})),__webpack_require__.d(__webpack_exports__,"D",(function(){return ex_spec_url})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ex_spec_and})),__webpack_require__.d(__webpack_exports__,"h",(function(){return ex_spec_blockTag})),__webpack_require__.d(__webpack_exports__,"p",(function(){return ethHexAddress})),__webpack_require__.d(__webpack_exports__,"u",(function(){return mnemonic})),__webpack_require__.d(__webpack_exports__,"z",(function(){return privateKey})),__webpack_require__.d(__webpack_exports__,"q",(function(){return hdPath})),__webpack_require__.d(__webpack_exports__,"d",(function(){return base32Address})),__webpack_require__.d(__webpack_exports__,"f",(function(){return base32UserAddress})),__webpack_require__.d(__webpack_exports__,"e",(function(){return base32ContractAddress}));var ex_spec_arrp,ex_spec_enums,ex_spec_boolean,ex_spec_map,ex_spec_addressType,ex_spec_networkId,ex_spec_blockRef,ex_spec_defBase32AddressSchemaFactory,ex_spec_cat,ex_spec_zeroOrOne,ex_spec_epochTag,ex_spec_dbid,ex_spec_stringp,ex_spec_int,ex_spec_password,ex_spec_maybe,ex_spec_or,ex_spec_nul,ex_spec_empty,ex_spec_defRestSchemas,ex_spec_string,ex_spec_epochRef,ex_spec_truep,ex_spec_url,ex_spec_and,ex_spec_blockTag,Eu,ev,fv,gv,hv,iv,shared=__webpack_require__(1321),Bu=function(a){return shared.a.bg((function(b){return!shared.a.Ud(b)}),shared.a.dd(function(a){return function d(c){return new shared.a.cf(null,(function(){if(shared.a.z(shared.a.Ud.g?shared.a.Ud.g(c):shared.a.Ud.call(null,c))){var e=shared.a.Dd([shared.a.I.g?shared.a.I.g(c):shared.a.I.call(null,c)]);e=shared.a.uf(shared.a.po,shared.a.vf(shared.a.gg,d,e))}else e=null;return shared.a.Re(c,e)}),null)}(a)}(a)))},Cu=function(a,b,c){return new shared.a.cf(null,(function(){var d=shared.a.I(c);if(d){var e=shared.a.to.h(a,d);return a===shared.a.wd(e)?shared.a.Re(e,Cu(a,b,shared.a.Zf(b,d))):null}return null}),null)},Du=function(a){return shared.a.zi(a,shared.a.Dd([shared.a.Ai,!0]))},Gu=function(a,b){return shared.a.z(shared.a.Mf(shared.a.Oh([b]),Eu))?new shared.a.Y(null,2,5,shared.a.Z,[b,new shared.a.t(null,1,[Fu,a],null)],null):b},Hu=function(a,b){return shared.a.ji.g(["base32",shared.a.z(a)?["-",shared.a.z(b)?[shared.a.C.g(a),"-",shared.a.C.g(b)].join(""):shared.a.C.g(a)].join(""):shared.a.z(b)?["-",shared.a.C.g(b)].join(""):"","-address"].join(""))},spec_Iu=function Iu(a,b,c){var e=shared.a.I(b);b=shared.a.M(e);var f=shared.a.O(e);if(f){e=shared.a.ig.i;var g=shared.a.R.h(a,b);c=Iu.i?Iu.i(g,f,c):Iu.call(null,g,f,c),a=e.call(shared.a.ig,a,b,c)}else a=shared.a.ig.i(a,b,c);return a},spec_Ju=function Ju(a,b){return function(a,b,c){if(shared.a.Me(c)){var d=shared.a.uf(shared.a.oo,shared.a.gg.h(a,c));return b.g?b.g(d):b.call(null,d)}return shared.a.yg(c)?(d=new shared.a.qe((e=shared.a.Vb(c),a.g?a.g(e):a.call(null,e)),function(){var e=shared.a.Wb(c);return a.g?a.g(e):a.call(null,e)}()),b.g?b.g(d):b.call(null,d)):shared.a.ce(c)?(d=shared.a.Zh(shared.a.gg.h(a,c)),b.g?b.g(d):b.call(null,d)):shared.a.Wd(c)?(d=shared.a.vb((function(e,f){return shared.a.Oe.h(e,a.g?a.g(f):a.call(null,f))}),c,c),b.g?b.g(d):b.call(null,d)):shared.a.Rd(c)?(d=shared.a.fg.h(shared.a.Hd(c),shared.a.gg.h(a,c)),b.g?b.g(d):b.call(null,d)):b.g?b.g(c):b.call(null,c);var e}(shared.a.Pf(Ju,a),a,b)},Ku=new shared.a.W(null,"privateKey","privateKey",1845961641),Lu=new shared.a.W(null,"hexContractAddress","hexContractAddress",-893096304),Mu=new shared.a.W(null,"randomPrivateKey","randomPrivateKey",1183021577),Nu=new shared.a.W(null,"epoch-ref","epoch-ref",-48908512),Ou=new shared.a.W(null,"randomHexAddress","randomHexAddress",1570574414),Pu=new shared.a.W(null,"hexBuiltInAddress","hexBuiltInAddress",1280085039),Qu=new shared.a.W(null,"undefined","undefined",-1970511116),Ru=new shared.a.W(null,"validateHDPath","validateHDPath",-1924266109),Su=new shared.a.W(null,"generateMnemonic","generateMnemonic",-1133348254),Tu=new shared.a.W(null,"address-type","address-type",921859604),Fu=new shared.a.W(null,"netId","netId",-280816369),Uu=new shared.a.W(null,"hexUserAddress","hexUserAddress",1842704561),Vu=new shared.a.W(null,"INTERNAL_CONTRACTS_HEX_ADDRESS","INTERNAL_CONTRACTS_HEX_ADDRESS",1890509993),Wu=new shared.a.W(null,"randomHDPath","randomHDPath",-672829199),Xu=new shared.a.W("cfxjs.spec.core","schema","cfxjs.spec.core/schema",-2104791549),Yu=new shared.a.W(null,"hexNullAddress","hexNullAddress",-1249531275),lC=new shared.a.W(null,"url","url",276297046),Zu=new shared.a.W(null,"epoch-tag","epoch-tag",-1905188154),$u=new shared.a.W(null,"hd-path","hd-path",-1739234499),av=new shared.a.W(null,"validateMnemonic","validateMnemonic",-1802951577),nC=new shared.a.W(null,"dbid","dbid",-196647356),bv=new shared.a.W(null,"hexString","hexString",608989661),cv=new shared.a.W(null,"validatePrivateKey","validatePrivateKey",2114592353),dv=new shared.a.W(null,"network-id","network-id",-1769267262),spec_jv=function jv(a){switch(arguments.length){case 1:return jv.g(arguments[0]);case 2:return jv.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",shared.a.C.g(arguments.length)].join(""))}};spec_jv.g=function(a){return spec_jv.h(a,shared.a.Hf)},spec_jv.h=function(a,b){return a=Du(a),b=shared.a.R.h(b,Fu),shared.a.z(b)?spec_Ju(shared.a.Pf(Gu,b),a):a},spec_jv.C=2;var spec_kv=function kv(a){switch(arguments.length){case 1:return kv.g(arguments[0]);case 2:return kv.h(arguments[0],arguments[1]);case 3:return kv.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",shared.a.C.g(arguments.length)].join(""))}};spec_kv.g=function(a){return spec_kv.i(a,void 0,shared.a.Hf)},spec_kv.h=function(a,b){return spec_kv.i(a,b,shared.a.Hf)},spec_kv.i=function(a,b,c){return c=Du(c),a=shared.a.Ei(spec_jv)(a,c),b=shared.a.Bi(b),shared.a.km(a,b,c)},spec_kv.C=3;var spec_lv=function lv(a){switch(arguments.length){case 2:return lv.h(arguments[0],arguments[1]);case 3:return lv.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",shared.a.C.g(arguments.length)].join(""))}};spec_lv.h=function(a,b){return spec_lv.i(a,b,shared.a.Hf)},spec_lv.i=function(a,b,c){return c=Du(c),a=shared.a.Ei(spec_jv)(a,c),b=shared.a.Bi(b),b=shared.a.nm(a,c)(b,shared.a.dg,shared.a.dg),b=shared.a.$m(b),shared.a.Do(b)},spec_lv.C=3;var spec_mv=function mv(a){for(var c=[],d=arguments.length,e=0;e<d;)c.push(arguments[e]),e+=1;return mv.j(arguments[0],1<c.length?new shared.a.$c(c.slice(1),0,null):null)};spec_mv.j=function(a,b){b=Cu(2,2,b);var c=shared.a.M(b),d=shared.a.Q(c,0,null);return c=shared.a.Q(c,1,null),d=shared.a.Dd([shared.a.Xd(d)?d:new shared.a.Y(null,1,5,shared.a.Z,[d],null),c]),a=shared.a.Xk(a,null),a=shared.a.im(shared.a.uk(a),shared.a.Df(shared.a.vf(spec_Iu,shared.a.rk(a),d)),shared.a.tk(a),shared.a.sk(a)),b=Bu(shared.a.dd(b)),shared.a.Qd(b)?a:shared.a.vf(spec_mv,a,b)},spec_mv.C=1,spec_mv.F=function(a){var b=shared.a.M(a);return a=shared.a.O(a),this.j(b,a)};var nv=spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.So,new shared.a.t(null,2,[shared.a.Fk,8,shared.a.Gk,128],null)],null),shared.a.Dd([shared.a.Sr,"String between 8 to 128 character",shared.a.ej,shared.a.Io])),ov=spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.qr,new shared.a.t(null,2,[shared.a.Fk,0,shared.a.Gk,4294967295],null)],null),shared.a.Dd([shared.a.ej,dv,shared.a.Sr,"1029 for mainnet, 1 for testnet, 0 <= networkId <= 4294967295"])),pv=spec_mv.j(new shared.a.Y(null,5,5,shared.a.Z,[shared.a.xq,"user","contract","builtin","null"],null),shared.a.Dd([shared.a.ej,Tu,shared.a.Sr,"Is string, one of user contract builtin null"])),qv=shared.a.wt(new shared.a.t(null,3,[shared.a.ej,shared.a.qq,shared.a.Jm,shared.a.hb,shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,"should be null or cljs nil",shared.a.Sr,"javascript null or cljs nil",shared.a.mq,function(){function a(b){if(0<arguments.length)for(var c=0,d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c;return null}return a.C=0,a.F=function(b){return shared.a.I(b),null},a.j=function(){return null},a}()],null)],null)),rv=RegExp,sv=spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.Ml,/^0(x|X)?[a-fA-F0-9]+$/],null),shared.a.Dd([shared.a.ej,bv,shared.a.mq,function(){return["0x",shared.a.C.g(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))].join("")},shared.a.Om,"invalid hex string",shared.a.Sr,"hexadecimal string"])),tv=shared.a.wt(new shared.a.t(null,3,[shared.a.ej,Qu,shared.a.Jm,function(){return shared.a.xd.g(void 0)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,"should be undefined",shared.a.Sr,"javascript undefined",shared.a.mq,function(){function a(b){if(0<arguments.length)for(var c=0,d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c}return a.C=0,a.F=function(b){shared.a.I(b)},a.j=function(){},a}()],null)],null)),uv=spec_mv.j(new shared.a.Y(null,7,5,shared.a.Z,[shared.a.xq,"latest_mined","latest_confirmed","latest_state","latest_checkpoint","earliest",null],null),shared.a.Dd([shared.a.ej,Zu,shared.a.Om,"must be one of latest_mined, latest_confirmed, latest_state, latest_checkpoint, earliest or null",shared.a.Sr,"one of latest_mined, latest_confirmed, latest_state, latest_checkpoint, earliest or null"])),vv=spec_mv.j(new shared.a.Y(null,3,5,shared.a.Z,[shared.a.ep,uv,sv],null),shared.a.Dd([shared.a.ej,Nu,shared.a.Om,"invalid epoch ref, check the doc at https://developer.conflux-chain.org/conflux-doc/docs/json_rpc#the-epoch-number-parameter",shared.a.Sr,"epoch number tag, check the doc at https://developer.conflux-chain.org/conflux-doc/docs/json_rpc#the-epoch-number-parameter"])),wv=spec_mv.j(new shared.a.Y(null,4,5,shared.a.Z,[shared.a.xq,"latest","earliest","pending"],null),shared.a.Dd([shared.a.ej,Zu,shared.a.Om,"invalid block tag, must be one of latest pending or earliest",shared.a.Sr,"one of latest pending or earliest"])),xv=spec_mv.j(new shared.a.Y(null,3,5,shared.a.Z,[shared.a.ep,wv,sv],null),shared.a.Dd([shared.a.ej,Nu,shared.a.Om,"invalid block ref, must be one of latest, pwnding, earliest, block number or null",shared.a.Sr,"one of latest, pwnding, earliest, block number or null"]));spec_mv.j(new shared.a.Y(null,4,5,shared.a.Z,[shared.a.xq,"builtin","user","contract"],null),shared.a.Dd([shared.a.ej,Tu,shared.a.Om,"invalid conflux user type, must be one of builtin user contract",shared.a.Sr,"one of builtin user contract"]));var mC=spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.Ml,/^(?:(?:https?):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?\.?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i],null),shared.a.Dd([shared.a.mq,function(){return"https://example.com/"},shared.a.ej,lC,shared.a.Om,"invalid http/https url",shared.a.Sr,"http/https url"])),oC=spec_mv.j(shared.a.ie,shared.a.Dd([shared.a.ej,nC,shared.a.Om,"invalid dbid, must be a positive integer",shared.a.Sr,"database id, positive integer"]));shared.a.Yi,shared.a.Yq,shared.a.ce,shared.a.Te,ex_spec_arrp=shared.a.Xd,shared.a.op,shared.a.as,shared.a.uq,shared.a.xp,ex_spec_enums=shared.a.xq,ex_spec_boolean=shared.a.Yo,shared.a.be,ex_spec_map=shared.a.as,shared.a.nb,ex_spec_addressType=pv,ex_spec_networkId=ov,ex_spec_blockRef=xv,shared.a.kq,shared.a.Je,shared.a.Vd,shared.a.vd,shared.a.Ie,shared.a.uq,shared.a.Ye,ex_spec_defBase32AddressSchemaFactory=function(a,b){return ev=shared.a.wt((function(c){c=shared.a.Cf(c);var d=shared.a.R.h(c,Fu);return new shared.a.t(null,3,[shared.a.ej,Hu(null,d),shared.a.Jm,function(e){return a.h?a.h(e,d):a.call(null,e,d)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,["Invalid base32 address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.Sr,["Base32 address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.mq,function(){return b.call(null,d)}],null)],null)})),fv=shared.a.wt((function(c){c=shared.a.Cf(c);var d=shared.a.R.h(c,Fu);return new shared.a.t(null,3,[shared.a.ej,Hu("user",d),shared.a.Jm,function(e){return a.i?a.i(e,"user",d):a.call(null,e,"user",d)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,["Invalid base32 user address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.Sr,["Base32 user address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.mq,function(){return b.call(null,d)}],null)],null)})),gv=shared.a.wt((function(c){c=shared.a.Cf(c);var d=shared.a.R.h(c,Fu);return new shared.a.t(null,3,[shared.a.ej,Hu("contract",d),shared.a.Jm,function(e){return a.i?a.i(e,"contract",d):a.call(null,e,"contract",d)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,["Invalid base32 contract address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.Sr,["Base32 contract address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.mq,function(){return b.call(null,d)}],null)],null)})),hv=shared.a.wt((function(c){c=shared.a.Cf(c);var d=shared.a.R.h(c,Fu);return new shared.a.t(null,3,[shared.a.ej,Hu("builtin",d),shared.a.Jm,function(e){return a.i?a.i(e,"builtin",d):a.call(null,e,"builtin",d)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,["Invalid base32 builtin address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.Sr,["Base32 builtin address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.mq,function(){return b.call(null,d)}],null)],null)})),iv=shared.a.wt((function(c){c=shared.a.Cf(c);var d=shared.a.R.h(c,Fu);return new shared.a.t(null,3,[shared.a.ej,Hu("null",d),shared.a.Jm,function(e){return a.i?a.i(e,"null",d):a.call(null,e,"null",d)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,["Invalid base32 null address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.Sr,["Base32 null address",shared.a.z(d)?[", with network id ",shared.a.C.g(d)].join(""):""].join(""),shared.a.mq,function(){return b.call(null,d)}],null)],null)})),Eu=new shared.a.Y(null,5,5,shared.a.Z,[ev,fv,gv,hv,iv],null)},ex_spec_cat=shared.a.kr,shared.a.rl,shared.a.tr,shared.a.sq,ex_spec_zeroOrOne=shared.a.Er,ex_spec_epochTag=uv,shared.a.Gr,ex_spec_dbid=oC,shared.a.Er,shared.a.sq,shared.a.ns,ex_spec_stringp=shared.a.mb,shared.a.Fs,shared.a.he,shared.a.kd,shared.a.fr,ex_spec_int=shared.a.qr,shared.a.jb,shared.a.Yp,shared.a.de,shared.a.Xd,ex_spec_password=nv,shared.a.Nq,shared.a.$k,shared.a.$d,shared.a.ps,shared.a.me,shared.a.Lr,shared.a.Sd,shared.a.Hr,ex_spec_maybe=shared.a.yq,shared.a.Td,shared.a.ke,ex_spec_or=shared.a.ep,ex_spec_nul=qv,shared.a.Ml,shared.a.je,shared.a.lb,shared.a.Rd,shared.a.Gs,shared.a.He,shared.a.Kq,shared.a.Ko,ex_spec_empty=shared.a.Qd,ex_spec_defRestSchemas=function(a){a=Du(a),a=shared.a.Cf(a);var b=shared.a.R.h(a,Vu),c=shared.a.R.h(a,Ou),d=shared.a.R.h(a,Mu),e=shared.a.R.h(a,av),f=shared.a.R.h(a,Su),g=shared.a.R.h(a,cv),h=shared.a.R.h(a,Ru),k=shared.a.R.h(a,Wu);return a=shared.a.Bi(b),{hdPath:shared.a.wt(new shared.a.t(null,3,[shared.a.ej,$u,shared.a.Jm,function(l){var n="string"==typeof l;return n?h.g?h.g(l):h.call(null,l):n},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,"should be a valid hdPath without the last address index",shared.a.Sr,"hd wallet derivation path without the last address_index, check https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#abstract for detail",shared.a.mq,function(){return k.call()}],null)],null)),mnemonic:shared.a.wt(new shared.a.t(null,3,[shared.a.ej,shared.a.iq,shared.a.Jm,function(l){var n="string"==typeof l;return n?e.g?e.g(l):e.call(null,l):n},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,"should be a valid mnemonic",shared.a.Sr,"Mnemonic phrase",shared.a.mq,function(){return f.call()}],null)],null)),privateKey:shared.a.wt(new shared.a.t(null,3,[shared.a.ej,Ku,shared.a.Jm,function(l){return g.g?g.g(l):g.call(null,l)},shared.a.Pl,new shared.a.t(null,3,[shared.a.Om,"invalid private key",shared.a.Sr,"0x-prefixed private key",shared.a.mq,function(){return d.call()}],null)],null)),ethHexAddress:spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.Ml,/^0x[0-9a-fA-F]{40}$/],null),shared.a.Dd([shared.a.mq,function(){return c.call()},shared.a.Om,"invalid hex address",shared.a.Sr,"0x-prefixed address"])),hexUserAddress:spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.Ml,/^0x1[0-9a-fA-F]{39}$/],null),shared.a.Dd([shared.a.ej,Uu,shared.a.mq,function(){return c.call(null,"user")},shared.a.Om,"invalid hex user address",shared.a.Sr,"Conflux hex user address"])),hexContractAddress:spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.Ml,/^0x8[0-9a-fA-F]{39}$/],null),shared.a.Dd([shared.a.ej,Lu,shared.a.Om,"invalid hex contract address",shared.a.Sr,"Conflux hex user address",shared.a.mq,function(){return c.call(null,"contract")}])),hexBuiltInAddress:spec_mv.j(shared.a.fg.h(new shared.a.Y(null,1,5,shared.a.Z,[shared.a.xq],null),a),shared.a.Dd([shared.a.ej,Pu,shared.a.Om,["invalid hex builtin address, can only be one of ",shared.a.C.g(a)].join(""),shared.a.Sr,"Hex address of conflux internal contract, can be found at https://confluxscan.io/contracts",shared.a.Qo,a])),hexNullAddress:spec_mv.j(new shared.a.Y(null,2,5,shared.a.Z,[shared.a.fr,"0x0000000000000000000000000000000000000000"],null),shared.a.Dd([shared.a.ej,Yu,shared.a.Sr,"Null address: 0x0000000000000000000000000000000000000000",shared.a.Om,"invalid hex null address, should be 0x0000000000000000000000000000000000000000"]))}},ex_spec_string=shared.a.So,shared.a.Lr,shared.a.ji,shared.a.aq,ex_spec_epochRef=vv,shared.a.Vd,shared.a.Vc,shared.a.ie,shared.a.Oq,shared.a.ge,shared.a.ne,shared.a.Me,shared.a.Ir,shared.a.Hs,shared.a.jq,shared.a.rs,shared.a.br,ex_spec_truep=shared.a.ae,shared.a.pb,shared.a.Ud,shared.a.tr,shared.a.We,ex_spec_url=mC,shared.a.Oo,shared.a.dp,ex_spec_and=shared.a.dq,ex_spec_blockTag=wv,shared.a.Vi,shared.a.Xe,shared.a.xl;var consts=__webpack_require__(1329),account=__webpack_require__(1322),src=__webpack_require__(1333),base32_address=__webpack_require__(1326),hdkey=__webpack_require__(1331);function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _defRestSchemas=ex_spec_defRestSchemas({INTERNAL_CONTRACTS_HEX_ADDRESS:consts.e,NULL_HEX_ADDRESS:consts.f,validatePrivateKey:account.g,randomHexAddress:account.d,randomCfxHexAddress:account.c,randomPrivateKey:account.e,validateMnemonic:src.validateMnemonic,generateMnemonic:src.generateMnemonic,validateHDPath:hdkey.c,randomHDPath:hdkey.b}),ethHexAddress=_defRestSchemas.ethHexAddress,mnemonic=(_defRestSchemas.hexUserAddress,_defRestSchemas.hexContractAddress,_defRestSchemas.hexBuiltInAddress,_defRestSchemas.hexNullAddress,_defRestSchemas.mnemonic),privateKey=_defRestSchemas.privateKey,hdPath=_defRestSchemas.hdPath,_defBase32AddressSche2=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ex_spec_defBase32AddressSchemaFactory(base32_address.d,base32_address.c),5),base32Address=_defBase32AddressSche2[0],base32UserAddress=_defBase32AddressSche2[1],base32ContractAddress=_defBase32AddressSche2[2];_defBase32AddressSche2[3],_defBase32AddressSche2[4]},1322:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return toAccountAddress})),__webpack_require__.d(__webpack_exports__,"d",(function(){return randomHexAddress})),__webpack_require__.d(__webpack_exports__,"b",(function(){return randomAddressType})),__webpack_require__.d(__webpack_exports__,"c",(function(){return randomCfxHexAddress})),__webpack_require__.d(__webpack_exports__,"e",(function(){return randomPrivateKey})),__webpack_require__.d(__webpack_exports__,"g",(function(){return validatePrivateKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return fromPrivate}));var random=function(bytes){var rnd;if("undefined"==typeof window||!window.crypto||!window.crypto.getRandomValues)throw"Safe random numbers not available.";rnd=window.crypto.getRandomValues(new Uint8Array(bytes));for(var hex="0x",i=0;i<bytes;++i)hex+=("00"+rnd[i].toString(16)).slice(-2);return hex},pad=function(l,hex){return hex.length===2*l+2?hex:pad(l,"0x0"+hex.slice(2))},concat=function(a,b){return a.concat(b.slice(2))},fromNat=function(bn){return"0x0"===bn?"0x":bn.length%2==0?bn:"0x0"+bn.slice(2)},lib_bn=__webpack_require__(1507),bn_default=__webpack_require__.n(lib_bn),toBN=function(str){return new bn_default.a(str.slice(2),16)},nat_fromString=function(str){var bn="0x"+("0x"===str.slice(0,2)?new bn_default.a(str.slice(2),16):new bn_default.a(str,10)).toString("hex");return"0x0"===bn?"0x":bn},bin=function(method){return function(a,b){return"0x"+toBN(a)[method](toBN(b)).toString("hex")}},elliptic=(bin("add"),bin("mul"),bin("div"),bin("sub"),__webpack_require__(254)),elliptic_default=__webpack_require__.n(elliptic),HEX_CHARS="0123456789abcdef".split(""),KECCAK_PADDING=[1,256,65536,16777216],SHIFT=[0,8,16,24],RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=function(s){var h,l,n,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16,b17,b18,b19,b20,b21,b22,b23,b24,b25,b26,b27,b28,b29,b30,b31,b32,b33,b34,b35,b36,b37,b38,b39,b40,b41,b42,b43,b44,b45,b46,b47,b48,b49;for(n=0;n<48;n+=2)c0=s[0]^s[10]^s[20]^s[30]^s[40],c1=s[1]^s[11]^s[21]^s[31]^s[41],c2=s[2]^s[12]^s[22]^s[32]^s[42],c3=s[3]^s[13]^s[23]^s[33]^s[43],c4=s[4]^s[14]^s[24]^s[34]^s[44],c5=s[5]^s[15]^s[25]^s[35]^s[45],c6=s[6]^s[16]^s[26]^s[36]^s[46],c7=s[7]^s[17]^s[27]^s[37]^s[47],h=(c8=s[8]^s[18]^s[28]^s[38]^s[48])^(c2<<1|c3>>>31),l=(c9=s[9]^s[19]^s[29]^s[39]^s[49])^(c3<<1|c2>>>31),s[0]^=h,s[1]^=l,s[10]^=h,s[11]^=l,s[20]^=h,s[21]^=l,s[30]^=h,s[31]^=l,s[40]^=h,s[41]^=l,h=c0^(c4<<1|c5>>>31),l=c1^(c5<<1|c4>>>31),s[2]^=h,s[3]^=l,s[12]^=h,s[13]^=l,s[22]^=h,s[23]^=l,s[32]^=h,s[33]^=l,s[42]^=h,s[43]^=l,h=c2^(c6<<1|c7>>>31),l=c3^(c7<<1|c6>>>31),s[4]^=h,s[5]^=l,s[14]^=h,s[15]^=l,s[24]^=h,s[25]^=l,s[34]^=h,s[35]^=l,s[44]^=h,s[45]^=l,h=c4^(c8<<1|c9>>>31),l=c5^(c9<<1|c8>>>31),s[6]^=h,s[7]^=l,s[16]^=h,s[17]^=l,s[26]^=h,s[27]^=l,s[36]^=h,s[37]^=l,s[46]^=h,s[47]^=l,h=c6^(c0<<1|c1>>>31),l=c7^(c1<<1|c0>>>31),s[8]^=h,s[9]^=l,s[18]^=h,s[19]^=l,s[28]^=h,s[29]^=l,s[38]^=h,s[39]^=l,s[48]^=h,s[49]^=l,b0=s[0],b1=s[1],b32=s[11]<<4|s[10]>>>28,b33=s[10]<<4|s[11]>>>28,b14=s[20]<<3|s[21]>>>29,b15=s[21]<<3|s[20]>>>29,b46=s[31]<<9|s[30]>>>23,b47=s[30]<<9|s[31]>>>23,b28=s[40]<<18|s[41]>>>14,b29=s[41]<<18|s[40]>>>14,b20=s[2]<<1|s[3]>>>31,b21=s[3]<<1|s[2]>>>31,b2=s[13]<<12|s[12]>>>20,b3=s[12]<<12|s[13]>>>20,b34=s[22]<<10|s[23]>>>22,b35=s[23]<<10|s[22]>>>22,b16=s[33]<<13|s[32]>>>19,b17=s[32]<<13|s[33]>>>19,b48=s[42]<<2|s[43]>>>30,b49=s[43]<<2|s[42]>>>30,b40=s[5]<<30|s[4]>>>2,b41=s[4]<<30|s[5]>>>2,b22=s[14]<<6|s[15]>>>26,b23=s[15]<<6|s[14]>>>26,b4=s[25]<<11|s[24]>>>21,b5=s[24]<<11|s[25]>>>21,b36=s[34]<<15|s[35]>>>17,b37=s[35]<<15|s[34]>>>17,b18=s[45]<<29|s[44]>>>3,b19=s[44]<<29|s[45]>>>3,b10=s[6]<<28|s[7]>>>4,b11=s[7]<<28|s[6]>>>4,b42=s[17]<<23|s[16]>>>9,b43=s[16]<<23|s[17]>>>9,b24=s[26]<<25|s[27]>>>7,b25=s[27]<<25|s[26]>>>7,b6=s[36]<<21|s[37]>>>11,b7=s[37]<<21|s[36]>>>11,b38=s[47]<<24|s[46]>>>8,b39=s[46]<<24|s[47]>>>8,b30=s[8]<<27|s[9]>>>5,b31=s[9]<<27|s[8]>>>5,b12=s[18]<<20|s[19]>>>12,b13=s[19]<<20|s[18]>>>12,b44=s[29]<<7|s[28]>>>25,b45=s[28]<<7|s[29]>>>25,b26=s[38]<<8|s[39]>>>24,b27=s[39]<<8|s[38]>>>24,b8=s[48]<<14|s[49]>>>18,b9=s[49]<<14|s[48]>>>18,s[0]=b0^~b2&b4,s[1]=b1^~b3&b5,s[10]=b10^~b12&b14,s[11]=b11^~b13&b15,s[20]=b20^~b22&b24,s[21]=b21^~b23&b25,s[30]=b30^~b32&b34,s[31]=b31^~b33&b35,s[40]=b40^~b42&b44,s[41]=b41^~b43&b45,s[2]=b2^~b4&b6,s[3]=b3^~b5&b7,s[12]=b12^~b14&b16,s[13]=b13^~b15&b17,s[22]=b22^~b24&b26,s[23]=b23^~b25&b27,s[32]=b32^~b34&b36,s[33]=b33^~b35&b37,s[42]=b42^~b44&b46,s[43]=b43^~b45&b47,s[4]=b4^~b6&b8,s[5]=b5^~b7&b9,s[14]=b14^~b16&b18,s[15]=b15^~b17&b19,s[24]=b24^~b26&b28,s[25]=b25^~b27&b29,s[34]=b34^~b36&b38,s[35]=b35^~b37&b39,s[44]=b44^~b46&b48,s[45]=b45^~b47&b49,s[6]=b6^~b8&b0,s[7]=b7^~b9&b1,s[16]=b16^~b18&b10,s[17]=b17^~b19&b11,s[26]=b26^~b28&b20,s[27]=b27^~b29&b21,s[36]=b36^~b38&b30,s[37]=b37^~b39&b31,s[46]=b46^~b48&b40,s[47]=b47^~b49&b41,s[8]=b8^~b0&b2,s[9]=b9^~b1&b3,s[18]=b18^~b10&b12,s[19]=b19^~b11&b13,s[28]=b28^~b20&b22,s[29]=b29^~b21&b23,s[38]=b38^~b30&b32,s[39]=b39^~b31&b33,s[48]=b48^~b40&b42,s[49]=b49^~b41&b43,s[0]^=RC[n],s[1]^=RC[n+1]},keccak=function(bits){return function(str){var msg;if("0x"===str.slice(0,2)){msg=[];for(var i=2,l=str.length;i<l;i+=2)msg.push(parseInt(str.slice(i,i+2),16))}else msg=str;return function(state,message){for(var i,code,length=message.length,blocks=state.blocks,byteCount=state.blockCount<<2,blockCount=state.blockCount,outputBlocks=state.outputBlocks,s=state.s,index=0;index<length;){if(state.reset)for(state.reset=!1,blocks[0]=state.block,i=1;i<blockCount+1;++i)blocks[i]=0;if("string"!=typeof message)for(i=state.start;index<length&&i<byteCount;++index)blocks[i>>2]|=message[index]<<SHIFT[3&i++];else for(i=state.start;index<length&&i<byteCount;++index)(code=message.charCodeAt(index))<128?blocks[i>>2]|=code<<SHIFT[3&i++]:code<2048?(blocks[i>>2]|=(192|code>>6)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):code<55296||code>=57344?(blocks[i>>2]|=(224|code>>12)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):(code=65536+((1023&code)<<10|1023&message.charCodeAt(++index)),blocks[i>>2]|=(240|code>>18)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>12&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]);if(state.lastByteIndex=i,i>=byteCount){for(state.start=i-byteCount,state.block=blocks[blockCount],i=0;i<blockCount;++i)s[i]^=blocks[i];f(s),state.reset=!0}else state.start=i}if(blocks[(i=state.lastByteIndex)>>2]|=KECCAK_PADDING[3&i],state.lastByteIndex===byteCount)for(blocks[0]=blocks[blockCount],i=1;i<blockCount+1;++i)blocks[i]=0;for(blocks[blockCount-1]|=2147483648,i=0;i<blockCount;++i)s[i]^=blocks[i];f(s);for(var block,hex="",k=0,j=0;j<outputBlocks;){for(k=0;k<blockCount&&j<outputBlocks;++k,++j)block=s[k],hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[15&block]+HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]+HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]+HEX_CHARS[block>>28&15]+HEX_CHARS[block>>24&15];j%blockCount==0&&(f(s),k=0)}return"0x"+hex}(function(bits){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(bits<<1)>>5,outputBlocks:bits>>5,s:(s=[0,0,0,0,0,0,0,0,0,0],[].concat(s,s,s,s,s))};var s}(bits),msg)}},keccak256=keccak(256),keccak256s=(keccak(512),keccak(256)),node_modules_buffer=(keccak(512),__webpack_require__(51)),utils=__webpack_require__(1330),consts=__webpack_require__(1329);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var addToV,secp256k1=elliptic_default.a.ec("secp256k1"),create=function(entropy){var innerHex=keccak256(concat(random(32),entropy||random(32))),middleHex=concat(concat(random(32),innerHex),random(32)),outerHex=keccak256(middleHex);return fromPrivate(outerHex)},toChecksum=function(address){for(var addressHash=keccak256s(address.slice(2)),checksumAddress="0x",i=0;i<40;i++)checksumAddress+=parseInt(addressHash[i+2],16)>7?address[i+2].toUpperCase():address[i+2];return checksumAddress},fromPrivate=function(privateKey){var buffer=node_modules_buffer.Buffer.from(privateKey.slice(2),"hex"),publicKey="0x"+secp256k1.keyFromPrivate(buffer).getPublic(!1,"hex").slice(2),publicHash=keccak256(publicKey);return{address:toChecksum("0x"+publicHash.slice(-40)),privateKey:privateKey}},toAccountAddress=(addToV=27,function(address){return address.replace(/^0x./,"0x1")}),randomHexAddress=function(type,entropy){if(type&&!consts.a.includes(type))throw new Error("Invalid address type "+type);if("builtin"===type)return consts.e[Object(utils.a)(consts.e.length)];if("null"===type)return consts.f;var addr=create(entropy).address;return"user"===type?toAccountAddress(addr):"contract"===type?addr.replace(/^0x./,"0x8"):addr},randomAddressType=function(){return consts.a[Object(utils.a)(consts.a.length)]},randomCfxHexAddress=function(entropy){return randomHexAddress(randomAddressType(),entropy)},randomPrivateKey=function(entropy){return create(entropy).privateKey},validatePrivateKey=function(privateKey){var valid=!1;try{var rst=fromPrivate(privateKey);valid=Boolean(rst.address)}catch(err){valid=!1}return valid}},1326:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return base32_address_encode})),__webpack_require__.d(__webpack_exports__,"a",(function(){return base32_address_decode})),__webpack_require__.d(__webpack_exports__,"d",(function(){return validateBase32Address})),__webpack_require__.d(__webpack_exports__,"c",(function(){return randomBase32Address}));for(var bn=__webpack_require__(1519),bn_default=__webpack_require__.n(bn),ALPHABET="abcdefghjkmnprstuvwxyz0123456789",ALPHABET_MAP={},z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(void 0!==ALPHABET_MAP[x])throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(pre){var b=pre.shrn(35),mask=new bn_default.a("07ffffffff",16),v=pre.and(mask).shln(5);return b.and(new bn_default.a("1")).toNumber()>0&&(v=v.xor(new bn_default.a("98f2bc8e61",16))),b.and(new bn_default.a("2")).toNumber()&&(v=v.xor(new bn_default.a("79b76d99e2",16))),b.and(new bn_default.a("4")).toNumber()&&(v=v.xor(new bn_default.a("f33e5fb3c4",16))),b.and(new bn_default.a("8")).toNumber()&&(v=v.xor(new bn_default.a("ae2eabe2a8",16))),b.and(new bn_default.a("16")).toNumber()&&(v=v.xor(new bn_default.a("1e4f43e470",16))),v}function prefixChk(prefix){for(var chk=new bn_default.a("1"),i=0;i<prefix.length;++i){var c=prefix.charCodeAt(i),mixwith=new bn_default.a(""+(31&c));chk=polymodStep(chk).xor(mixwith)}return chk=polymodStep(chk)}function encode(prefix,words){if(prefix.length+8+1+words.length>90)throw new TypeError("Exceeds Base32 maximum length");for(var chk=prefixChk(prefix=prefix.toLowerCase()),result=prefix+":",i=0;i<words.length;++i){var _x=words[i];if(_x>>>5!=0)throw new Error("Non 5-bit word");chk=polymodStep(chk).xor(new bn_default.a(_x,16)),result+=ALPHABET.charAt(_x)}for(var _i=0;_i<8;++_i)chk=polymodStep(chk);chk=chk.xor(new bn_default.a("1"));for(var _i2=0;_i2<8;++_i2){var pos=5*(7-_i2),v2=chk.shrn(pos).and(new bn_default.a("1f",16));result+=ALPHABET.charAt(v2.toString(10))}return result}function convert(data,inBits,outBits,pad){for(var value=0,bits=0,maxV=(1<<outBits)-1,result=[],i=0;i<data.length;++i)for(value=value<<inBits|data[i],bits+=inBits;bits>=outBits;)bits-=outBits,result.push(value>>>bits&maxV);if(pad)bits>0&&result.push(value<<outBits-bits&maxV);else{if(bits>=inBits)throw new Error("Excess padding");if(value<<outBits-bits&maxV)throw new Error("Non-zero padding")}return result}function toWords(bytes){return convert(bytes,8,5,!0)}var buffer=__webpack_require__(51),account=__webpack_require__(1322),utils=__webpack_require__(1330);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function encodeNetId(netId){if(!Number.isInteger(netId))throw new Error("netId should be passed as an integer");if(netId<=0||netId>4294967295)throw new Error("netId should be passed as in range [1, 0xFFFFFFFF]");switch(netId){case 1:return"cfxtest";case 1029:return"cfx";default:return"net"+netId}}function decodeNetId(payload){switch(payload){case"cfxtest":return 1;case"cfx":return 1029;default:var prefix=payload.slice(0,3),netId=payload.slice(3);if("net"!==prefix||!function isValidNetId(netId){return/^([1-9]\d*)$/.test(netId)&&Number(netId)<=4294967295}(netId))throw new Error("netId prefix should be passed by 'cfx', 'cfxtest' or 'net[n]' ");if(1===Number(netId)||1029===Number(netId))throw new Error("net1 or net1029 are invalid");return Number(netId)}}function encodePayload(hexAddress){return buffer.Buffer.concat([buffer.Buffer.from([0]),hexAddress])}function decodePayload(payload){if(0!==payload[0])throw new Error("Can not recognize version byte");return buffer.Buffer.from(payload.slice(1))}function getAddressType(hexAddress){if(hexAddress.length<1)throw new Error("Empty payload in address");switch(240&hexAddress[0]){case 16:return"user";case 128:return"contract";case 0:var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(hexAddress);try{for(_iterator.s();!(_step=_iterator.n()).done;){if(0!==_step.value)return"builtin"}}catch(err){_iterator.e(err)}finally{_iterator.f()}return"null";default:throw new Error("hexAddress should start with 0x0, 0x1 or 0x8")}}function base32_address_encode(hexAddress,netId){var verbose=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(hexAddress instanceof buffer.Buffer||(hexAddress=buffer.Buffer.from(Object(utils.b)(hexAddress),"hex")),hexAddress.length<20)throw new Error("hexAddress should be at least 20 bytes");var addressType=getAddressType(hexAddress),encodedAddress=encode(encodeNetId(netId),toWords(encodePayload(hexAddress)));if(verbose){var _encodedAddress$split=encodedAddress.split(":"),_encodedAddress$split2=_slicedToArray(_encodedAddress$split,2),prefix=_encodedAddress$split2[0],payload=_encodedAddress$split2[1];encodedAddress=[prefix,"type."+addressType,payload].join(":").toUpperCase()}return encodedAddress}function base32_address_decode(address){var lowered=address.toLowerCase(),uppered=address.toUpperCase();if(address!==lowered&&address!==uppered)throw new Error("Mixed-case address "+address);var splits=address.split(":"),shouldHaveType="",reducedAddress=address;3===splits.length&&(shouldHaveType=splits[1],reducedAddress=[splits[0],splits[2]].join(":"));var result=function decode(str){if(str.length<8)throw new TypeError(str+" too short");if(str.length>90)throw new TypeError(str+" too long");var lowered=str.toLowerCase(),uppered=str.toUpperCase();if(str!==lowered&&str!==uppered)throw new Error("Mixed-case string "+str);var split=lowered.lastIndexOf(":");if(-1===split)throw new Error("No separator character for "+lowered);if(0===split)throw new Error("Missing prefix for "+lowered);var prefix=lowered.slice(0,split),wordChars=lowered.slice(split+1);if(wordChars.length<6)throw new Error("Data too short");for(var chk=prefixChk(prefix),words=[],i=0;i<wordChars.length;++i){var c=wordChars.charAt(i),v=ALPHABET_MAP[c];if(void 0===v)throw new Error("Unknown character "+c);chk=polymodStep(chk).xor(new bn_default.a(""+v)),i+8>=wordChars.length||words.push(v)}if("1"!==chk.toString(10))throw new Error("Invalid checksum for "+lowered);return{prefix:prefix,words:words}}(reducedAddress),data=function fromWords(words){return convert(words,5,8,!1)}(result.words);if(data.length<1)throw new Error("Empty payload in address");var returnValue={hexAddress:decodePayload(data),netId:decodeNetId(result.prefix),type:getAddressType(decodePayload(data))};if(""!==shouldHaveType&&"type."+returnValue.type!==shouldHaveType.toLowerCase())throw new Error("Type of address doesn't match");return returnValue}function validateBase32Address(address){var netId,type,decoded,valid=!1;if(null!=(arguments.length<=1?void 0:arguments[1]))if(Number.isSafeInteger(arguments.length<=1?void 0:arguments[1]))netId=arguments.length<=1?void 0:arguments[1];else{if("string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=1?void 0:arguments[1]}if(null!=(arguments.length<=2?void 0:arguments[2]))if(Number.isSafeInteger(arguments.length<=2?void 0:arguments[2]))netId=arguments.length<=2?void 0:arguments[2];else{if("string"!=typeof(arguments.length<=2?void 0:arguments[2]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=2?void 0:arguments[2]}try{decoded=base32_address_decode(address),valid=!0,void 0!==netId&&netId!==decoded.netId&&(valid=!1),void 0!==type&&type!==decoded.type&&(valid=!1)}catch(err){valid=!1}return valid}var randomBase32Address=function(){var netId,type;if(null!=(arguments.length<=0?void 0:arguments[0]))if(Number.isSafeInteger(arguments.length<=0?void 0:arguments[0]))netId=arguments.length<=0?void 0:arguments[0];else{if("string"!=typeof(arguments.length<=0?void 0:arguments[0]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=0?void 0:arguments[0]}if(null!=(arguments.length<=1?void 0:arguments[1]))if(Number.isSafeInteger(arguments.length<=1?void 0:arguments[1]))netId=arguments.length<=1?void 0:arguments[1];else{if("string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new Error("Invalid type or networkId, type must be string, networkId must be number");type=arguments.length<=1?void 0:arguments[1]}void 0===type&&(type=Object(account.b)()),void 0===netId&&(netId=1029);var hexAddress=Object(utils.b)(Object(account.d)(type));return base32_address_encode(buffer.Buffer.from(hexAddress,"hex"),netId)}},1329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return NULL_HEX_ADDRESS})),__webpack_require__.d(__webpack_exports__,"e",(function(){return INTERNAL_CONTRACTS_HEX_ADDRESS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ADDRESS_TYPES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CFX_MAINNET_NETID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULT_CFX_HDPATH})),__webpack_require__.d(__webpack_exports__,"d",(function(){return DEFAULT_ETH_HDPATH}));var NULL_HEX_ADDRESS="0x0000000000000000000000000000000000000000",INTERNAL_CONTRACTS_HEX_ADDRESS=["0x0888000000000000000000000000000000000000","0x0888000000000000000000000000000000000001","0x0888000000000000000000000000000000000002"],ADDRESS_TYPES=["user","contract","builtin","null"],CFX_MAINNET_NETID=1029,DEFAULT_CFX_HDPATH="m/44'/503'/0'/0",DEFAULT_ETH_HDPATH="m/44'/60'/0'/0"},1330:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return randomInt}));__webpack_require__(132);var strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1338),strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__.d(__webpack_exports__,"b",(function(){return strip_hex_prefix__WEBPACK_IMPORTED_MODULE_1___default.a}));__webpack_require__(1332);var randomInt=function(a){return Math.floor(Math.random()*a)}},1331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return randomHDPath})),__webpack_require__.d(__webpack_exports__,"c",(function(){return validateHDPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getNthAccountOfHDKey}));var bip39__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1333),ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1339),_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1330),ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1363),buffer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51);function randomHDPathIndex(){return Object(_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__.a)(ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_3__.HDKey.HARDENED_OFFSET)}var randomHDPath=function(){return`m/44'/${randomHDPathIndex()}'/${randomHDPathIndex()}'/${Object(_cfxjs_utils__WEBPACK_IMPORTED_MODULE_2__.a)(randomHDPathIndex())}`},validateHDPath=function(hdPath){var valid=!0;try{var levels=hdPath.split("/");valid=(valid=valid&&5===levels.length&&"m"===levels[0]&&"44'"===levels[1]&&levels[2].endsWith("'")&&levels[3].endsWith("'"))&&Boolean(ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__.hdkey.fromMasterSeed(buffer__WEBPACK_IMPORTED_MODULE_4__.Buffer.from("df37c5b5fc335f2b448457104a591b0b8792ae4a60c484879d0114b84ca78b1b82503103b489e9087241cc4838561f2dcb43652702d58f8c45a3fa52d04696c3","hex")).derivePath(hdPath))}catch(err){valid=!1}return valid},getNthAccountOfHDKey=async function(_ref){for(var mnemonic=_ref.mnemonic,hdPath=_ref.hdPath,nth=_ref.nth,_ref$only0x1Prefixed=_ref.only0x1Prefixed,only0x1Prefixed=void 0!==_ref$only0x1Prefixed&&_ref$only0x1Prefixed,k=await async function(mnemonic){var hdPath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m/44'/503'/0'/0",seed=await Object(bip39__WEBPACK_IMPORTED_MODULE_0__.mnemonicToSeed)(mnemonic);return ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_1__.hdkey.fromMasterSeed(seed).derivePath(hdPath)}(mnemonic,hdPath),result={},count=0,idx=0;count<=nth;){var newWallet=k.deriveChild(idx++).getWallet();result.address="0x"+newWallet.getAddress().toString("hex"),result.privateKey="0x"+newWallet.getPrivateKey().toString("hex"),only0x1Prefixed&&result.address.startsWith("0x1")&&count++,only0x1Prefixed||count++}return result.index=idx-1,result}},1344:function(module,__webpack_exports__,__webpack_require__){"use strict";var _thi_ng_checks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1345);__webpack_require__.d(__webpack_exports__,"a",(function(){return _thi_ng_checks__WEBPACK_IMPORTED_MODULE_0__.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return _thi_ng_checks__WEBPACK_IMPORTED_MODULE_0__.b}));__webpack_require__(1366)},1365:function(module,__webpack_exports__,__webpack_require__){"use strict";var _thi_ng_compose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1368);__webpack_require__.d(__webpack_exports__,"a",(function(){return _thi_ng_compose__WEBPACK_IMPORTED_MODULE_0__.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return _thi_ng_compose__WEBPACK_IMPORTED_MODULE_0__.b}))},1367:function(module,__webpack_exports__,__webpack_require__){"use strict";var _cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1326),_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1329),_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1322),ADDR_TYPE_TO_PREFIX={user:"0x1",contract:"0x8",null:"0x0",builtin:"0x0"};__webpack_exports__.a=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},address=_ref.address,networkType=_ref.networkType,networkId=_ref.networkId,addressType=_ref.addressType,privateKey=_ref.privateKey;if("string"!=typeof address)throw new Error("Invalid address, must be a string");if(!["cfx","eth"].includes(networkType))throw new Error("Invalid networkType, must be cfx or eth");if(null!=networkId&&!Number.isSafeInteger(networkId))throw new Error("Invalid networkId, must be a safe integer");if("cfx"===networkType&&!Number.isSafeInteger(networkId))throw new Error("Invalid networkId, must be a safe integer");if(addressType&&!_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__.a.includes(addressType))throw new Error("Invalid addressType, must be one of "+_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__.a.toString());if("cfx"===networkType){if("null"===addressType&&(address="0x0000000000000000000000000000000000000000"),Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__.d)(address,networkId,addressType))return address;if(address.includes(":")){if(addressType&&!Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__.d)(address,addressType))throw new Error("Invalid base32 address, address type is invalid");return Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__.b)(Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__.a)(address).hexAddress,networkId,!0)}return addressType||(addressType="user"),Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_0__.b)(address.toLowerCase().replace(/0x./,ADDR_TYPE_TO_PREFIX[addressType]),networkId,!0)}if("eth"===networkType){if(address.includes(":")){if(privateKey)return Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.a)(privateKey).address;throw new Error("Unable to convert base32 address into eth hex address without private key")}return address}}},1508:function(module,exports){},1520:function(module,exports){},1521:function(module,exports){},1554:function(module,exports){},257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_chainId",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]]},permissions={external:["popup","inpage"],locked:!0,methods:["cfx_getStatus"]},cache={type:"ttl",ttl:864e5,key:function(){return NAME},afterGet:function(_,c){if(!c)return"nocache"}},main=async function(_ref){var _await$cfx_getStatus,f=_ref.f,cfx_getStatus=_ref.rpcs.cfx_getStatus,rst=await f();return"nocache"===(null==rst?void 0:rst.result)?null===(_await$cfx_getStatus=await cfx_getStatus())||void 0===_await$cfx_getStatus?void 0:_await$cfx_getStatus.chainId:rst.result}},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_epochNumber",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.E,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.o],_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w]},permissions={locked:!0,external:["popup","inpage"]},cache={type:"ttl",ttl:500,key:function(_ref){return"EPOCH"+_ref.params[0]}},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f(params)}},259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_gasPrice",schemas={inputs:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w]},permissions={external:["popup","inpage"],locked:!0},cache={type:"ttl",ttl:1e5,key:NAME},main=async function(_ref){var f=_ref.f;return await f()}},260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_getAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.d,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.E,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n]]},cache={type:"epoch",key:function(_ref){var params=_ref.params;return`${NAME}${params[0]}`}},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f(params)}},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_getBalance",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.d,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n]},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_getCode",cache={type:"epoch",ttl:3600,key:function(_ref){var params=_ref.params;return`${NAME}${params[0]}`}},schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.e,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n]},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f(params)}},263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_getNextNonce",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.n]},permissions={external:["popup","inpage"],locked:!0},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},264:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_getStatus",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w]},chainIdCacheConf={type:"ttl",ttl:864e5,key:"cfx_chainId"},networkIdCacheConf={type:"ttl",ttl:864e5,key:"cfx_netVersion"},cache={type:"ttl",ttl:500,key:function(){return""+NAME},afterSet:function(setCache,req,res){setCache({req:req,res:{result:res.result.chainId},chainIdCacheConf:chainIdCacheConf}),setCache({req:req,res:{result:res.result.networkId},networkIdCacheConf:networkIdCacheConf})}},permissions={external:["popup","inpage"],locked:!0},main=async function(_ref){var f=_ref.f;return await f()}},265:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="cfx_netVersion",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.w,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]]},permissions={external:["popup","inpage"],locked:!0,methods:["cfx_getStatus"]},cache={type:"ttl",ttl:864e5,key:function(){return NAME},afterGet:function(_,c){if(!c)return"nocache"}},main=async function(_ref){var _await$cfx_getStatus,f=_ref.f,cfx_getStatus=_ref.rpcs.cfx_getStatus,rst=await f();return"nocache"===(null==rst?void 0:rst.result)?parseInt(null===(_await$cfx_getStatus=await cfx_getStatus())||void 0===_await$cfx_getStatus?void 0:_await$cfx_getStatus.networkId,16).toString():parseInt(rst.result,16).toString()}},266:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_blockNumber",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]},permissions={locked:!0,external:["popup","inpage"]},cache={type:"ttl",ttl:1e3},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},267:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_chainId",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]},permissions={external:["popup","inpage"],locked:!0},cache={type:"ttl",ttl:864e5,key:function(){return NAME}},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},268:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_gasPrice",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]},permissions={external:["popup","inpage"],locked:!0},cache={type:"block",key:function(){return NAME}},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_getBalance",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.g]},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_getCode",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.h]},cache={type:"block",ttl:3600,key:function(_ref){var params=_ref.params;return`${NAME}${params[0]}`}},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref2){var f=_ref2.f,params=_ref2.params;return await f(params)}},271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="eth_getTransactionCount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.h]},permissions={locked:!0,external:["popup","inpage"]},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"cache",(function(){return cache})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="net_version",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.b,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.c,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.l]},permissions={external:["popup","inpage"],locked:!0},cache={type:"ttl",ttl:864e5,key:function(){return NAME}},main=async function(_ref){var f=_ref.f,params=_ref.params;return await f(params)}},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NAME="wallet_addHdPath",schemas={inputs:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["hdPath",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.q],["name",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:2,max:128}]]]},permissions={external:["popup","inpage"],locked:!0,db:["getHdPathByName","getHdPathByValue","t"]},main=function(_ref){var _ref$Err=_ref.Err,InvalidParams=_ref$Err.InvalidParams,t=_ref$Err.t,_ref$db=_ref.db,getHdPathByName=_ref$db.getHdPathByName,getHdPathByValue=_ref$db.getHdPathByValue,_ref$params=_ref.params,name=_ref$params.name,hdPath=_ref$params.hdPath;if(getHdPathByName(name).length)throw InvalidParams("Duplicate hd path name");var dup=_slicedToArray(getHdPathByValue(hdPath),1)[0];if(dup)throw InvalidParams("hd path already added with name "+dup.name);return t({eid:"newHdPathId",hdPath:{value:hdPath,name:name}}).tempids.newHdPathId}},274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1329);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NAME="wallet_addNetwork",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["url",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.D],["name",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:3,max:128}]],["ticker",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:2,max:16}]],["hdPath",{optional:!0,doc:'the hd path of this netowrk, default to the detected network type (cfx/eth), can be one of hd path dbid, hd path type "cfx"/"eth" or hd path value'},[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.m,"cfx","eth"],_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.q]]]},permissions={external:["popup"],db:["t","getHdPathById","getNetworkByName","getNetworkByEndpoint","getOneHdPath","filterAccountGroupByNetworkType"],methods:["wallet_addHdPath","wallet_detectNetworkType","wallet_discoverAccounts","wallet_createAddress"]},main=async function(_ref){var _getOneHdPath,InvalidParam=_ref.Err.InvalidParam,_ref$rpcs=_ref.rpcs,wallet_addHdPath=_ref$rpcs.wallet_addHdPath,wallet_detectNetworkType=_ref$rpcs.wallet_detectNetworkType,wallet_discoverAccounts=_ref$rpcs.wallet_discoverAccounts,wallet_createAddress=_ref$rpcs.wallet_createAddress,_ref$db=_ref.db,t=_ref$db.t,getHdPathById=_ref$db.getHdPathById,getNetworkByName=_ref$db.getNetworkByName,getNetworkByEndpoint=_ref$db.getNetworkByEndpoint,getOneHdPath=_ref$db.getOneHdPath,filterAccountGroupByNetworkType=_ref$db.filterAccountGroupByNetworkType,_ref$params=_ref.params,url=_ref$params.url,name=_ref$params.name,ticker=_ref$params.ticker,hdPath=_ref$params.hdPath;if(_slicedToArray(getNetworkByName(name),1)[0])throw InvalidParam("Duplicate network name");var dupEndpointNetwork=_slicedToArray(getNetworkByEndpoint(url),1)[0];if(dupEndpointNetwork)throw InvalidParam("Duplicate network endpoint with network "+dupEndpointNetwork.eid);if(Number.isInteger(hdPath)&&!getHdPathById(hdPath))throw InvalidParam("Invalid hdPath id "+hdPath);var _await$wallet_detectN=await wallet_detectNetworkType({url:url}),networkType=_await$wallet_detectN.type,chainId=_await$wallet_detectN.chainId,netId=_await$wallet_detectN.netId;hdPath=hdPath||networkType;var hdPathId=Number.isInteger(hdPath)&&getHdPathById(hdPath).eid||"cfx"===hdPath&&getOneHdPath({value:_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__.c}).eid||"eth"===hdPath&&getOneHdPath({value:_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_1__.d}).eid||(null===(_getOneHdPath=getOneHdPath({value:hdPath}))||void 0===_getOneHdPath?void 0:_getOneHdPath.eid)||"newHdPath";"newHdPath"===hdPathId&&(hdPathId=await wallet_addHdPath({name:name+"-hdPath",value:hdPath}));var networkId=t([{eid:"networkId",network:{name:name,endpoint:url,type:networkType,hdPath:hdPathId,chainId:chainId,netId:parseInt(netId,10),ticker:ticker,builtin:!1}}]).tempids.networkId,groups=filterAccountGroupByNetworkType(networkType);return await Promise.all(groups.map((function(_ref2){var eid=_ref2.eid;return wallet_createAddress({accountGroupId:eid,networkId:networkId})}))),await Promise.all(groups.filter((function(_ref3){return"hd"===_ref3.vault.type})).map((function(_ref4){var eid=_ref4.eid;return wallet_discoverAccounts({accountGroupId:eid})}))),networkId}},275:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"newAccounts",(function(){return newAccounts})),__webpack_require__.d(__webpack_exports__,"newAccountGroup",(function(){return newAccountGroup})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1325),_cfxjs_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1365),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1326),_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1322),_cfxjs_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1330);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NAME="wallet_addVault",baseInputSchema=[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]],menomicSchema=[].concat(baseInputSchema,[["mnemonic",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.u]]),privateKeySchema=[].concat(baseInputSchema,[["privateKey",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.z]]),addressSchema=[].concat(baseInputSchema,[["address",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f]]]),schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,menomicSchema,privateKeySchema,addressSchema]},permissions={methods:["wallet_discoverAccounts","wallet_getBalance","wallet_getNextNonce","wallet_validatePassword","wallet_deleteAccountGroup"],db:["t","getVault","getVaultById","createVault","getAccountGroup","getNetwork","getOneAccountByGroupAndIndex"]};async function newAccounts(arg){var groupId=arg.groupId,wallet_discoverAccounts=arg.rpcs.wallet_discoverAccounts,vault=arg.vault,_arg$db=arg.db,getNetwork=_arg$db.getNetwork,t=_arg$db.t,getOneAccountByGroupAndIndex=_arg$db.getOneAccountByGroupAndIndex;"hd"!==vault.type?getNetwork().forEach((function(_ref){var _account$eid3,_account$eid4,eid=_ref.eid,netId=_ref.netId,type=_ref.type,account=getOneAccountByGroupAndIndex({index:0,groupId:groupId});if("pk"!==vault.type)vault.cfxOnly&&"cfx"!==type||t([{eid:-1,address:{hex:vault.ddata,vault:vault.eid}},"cfx"===type&&{eid:-1,address:{base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_3__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__.f)(vault.ddata),netId,!0),cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__.f)(vault.ddata)}},{eid:eid,network:{address:-1}},{eid:null!==(_account$eid3=null==account?void 0:account.eid)&&void 0!==_account$eid3?_account$eid3:-2,account:{index:0,nickname:"Account 1",address:-1,hidden:!1}},{eid:groupId,accountGroup:{account:null!==(_account$eid4=null==account?void 0:account.eid)&&void 0!==_account$eid4?_account$eid4:-2}}]);else{var _account$eid,_account$eid2,addr=Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__.a)(vault.ddata).address;t([{eid:-1,address:{hex:addr,pk:vault.ddata,vault:vault.eid}},"cfx"===type&&{eid:-1,address:{cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__.f)(addr),base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_3__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_4__.f)(addr),netId,!0)}},{eid:eid,network:{address:-1}},{eid:null!==(_account$eid=null==account?void 0:account.eid)&&void 0!==_account$eid?_account$eid:-2,account:{address:-1,index:0,nickname:"Account 1",hidden:!1}},{eid:groupId,accountGroup:{account:null!==(_account$eid2=null==account?void 0:account.eid)&&void 0!==_account$eid2?_account$eid2:-2}}])}})):await wallet_discoverAccounts({accountGroupId:groupId,limit:10})}function newAccountGroup(arg){var _arg$db2=arg.db,getAccountGroup=_arg$db2.getAccountGroup,getNetwork=_arg$db2.getNetwork,getVaultById=_arg$db2.getVaultById,t=_arg$db2.t,vaultId=arg.vaultId,groups=getAccountGroup(),vault=getVaultById(vaultId),groupName="Vault "+(groups.length+1),networks=getNetwork().reduce((function(acc,n){return vault.cfxOnly&&"cfx"===n.type||acc.push(n),acc}),[]),groupId=t([{eid:-1,accountGroup:{nickname:groupName,vault:vaultId,hidden:!1}}].concat(_toConsumableArray(networks.map((function(_ref2){return{eid:-1,accountGroup:{network:_ref2.eid}}}))))).tempids[-1];return newAccounts(Object.assign({},arg,{vault:vault,groupId:groupId})),groupId}var main=async function(arg){var _arg$db3=arg.db,createVault=_arg$db3.createVault,getVault=_arg$db3.getVault,getAccountGroup=_arg$db3.getAccountGroup,getVaultById=_arg$db3.getVaultById,_arg$rpcs=arg.rpcs,wallet_validatePassword=_arg$rpcs.wallet_validatePassword,wallet_deleteAccountGroup=_arg$rpcs.wallet_deleteAccountGroup,_arg$params=arg.params,password=_arg$params.password,mnemonic=_arg$params.mnemonic,privateKey=_arg$params.privateKey,address=_arg$params.address,cfxOnly=_arg$params.cfxOnly,force=_arg$params.force,Err=arg.Err;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");var vault={cfxOnly:!1};if(vault.data=mnemonic||privateKey||address,privateKey)vault.type="pk",vault.data=Object(_cfxjs_utils__WEBPACK_IMPORTED_MODULE_5__.b)(privateKey);else if(mnemonic)vault.type="hd",cfxOnly&&(vault.cfxOnly=!0);else if(address){var validateResult=function(address){return Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_3__.d)(address)?{cfxOnly:!0,address:"0x"+Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_3__.a)(address).hexAddress.toString("hex")}:{address:address,cfxOnly:!1}}(address);vault.type="pub",vault.data=validateResult.address,vault.cfxOnly=validateResult.cfxOnly}var vaults=getVault(),anyDuplicateVaults=(await Promise.all(vaults.map(Object(_cfxjs_compose__WEBPACK_IMPORTED_MODULE_2__.a)((async function(v){return[v.ddata||await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,v.data),v.eid]}),(function(p){return p.then((function(_ref3){var _ref4=_slicedToArray(_ref3,2),ddata=_ref4[0],eid=_ref4[1];return ddata===vault.data?eid:null}))}))))).filter((function(v){return Boolean(v)}));if(anyDuplicateVaults.length){var err,duplicateVaultId=_slicedToArray(anyDuplicateVaults,1)[0],duplicateAccountGroup=_slicedToArray(getAccountGroup({vault:duplicateVaultId}),1)[0],duplicateVault=getVaultById(duplicateVaultId);if(!force)throw"hd"===vault.type&&duplicateVault.cfxOnly!==vault.cfxOnly?(err=Err.InvalidParams("Duplicate credential(with different cfxOnly setting) with account group "+duplicateAccountGroup.eid)).updateCfxOnly=!0:err=Err.InvalidParams("Duplicate credential with account group "+duplicateAccountGroup.eid),err.duplicateAccountGroupId=duplicateAccountGroup.eid,err;if("hd"!==duplicateVault.type)throw Err.InvalidParams("Can't force import none hd vault");await wallet_deleteAccountGroup({accountGroupId:duplicateAccountGroup.eid,password:password})}vault.ddata=vault.data,vault.data=await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.encrypt)(password,vault.data);var vaultId=createVault(vault);return newAccountGroup(Object.assign({},arg,{vaultId:vaultId}))}},276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1325),_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1331),_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1322),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1326),NAME="wallet_createAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["nickname",{optional:!0},[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:1,max:64,doc:"Nickname of this account, a string with 1 to 64 characters"}]]]},permissions={db:["getNetwork","getPassword","getAccountGroupById","getOneAccountByGroupAndIndex","t"],external:["popup"]},main=async function(_ref){var _vault$ddata,_ref$db=_ref.db,getPassword=_ref$db.getPassword,getNetwork=_ref$db.getNetwork,getOneAccountByGroupAndIndex=_ref$db.getOneAccountByGroupAndIndex,t=_ref$db.t,getAccountGroupById=_ref$db.getAccountGroupById,_ref$params=_ref.params,accountGroupId=_ref$params.accountGroupId,nickname=_ref$params.nickname,Err=_ref.Err,group=getAccountGroupById(accountGroupId);if(!group)throw Err.InvalidParams("Invalid account group id");var vault=group.vault;if("hd"!==vault.type)throw Err.InvalidParams("Can't add account into none hd vault");var existAccounts=group.account||[],nextAccountIdx=existAccounts.length;if(existAccounts.reduce((function(acc,account){return acc||account.nickname===nickname}),!1))throw Err.InvalidParams(`Invalid nickname "${nickname}", duplicate with other account in the same account group`);var password=getPassword(),decrypted=null!==(_vault$ddata=vault.ddata)&&void 0!==_vault$ddata?_vault$ddata:await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,vault.data),networks=getNetwork();return(await Promise.all(networks.map((async function(_ref2){var eid=_ref2.eid,hdPath=_ref2.hdPath;return{eid:eid,netId:_ref2.netId,type:_ref2.type,addr:await Object(_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_2__.a)({mnemonic:decrypted,hdPath:hdPath.value,nth:nextAccountIdx,only0x1Prefixed:vault.cfxOnly})}}))).then((function(params){return params.map((function(_ref3){var _getOneAccountByGroup,_tempids$accountId,eid=_ref3.eid,netId=_ref3.netId,type=_ref3.type,_ref3$addr=_ref3.addr,address=_ref3$addr.address,index=_ref3$addr.index,privateKey=_ref3$addr.privateKey,accountId=(null===(_getOneAccountByGroup=getOneAccountByGroupAndIndex({index:nextAccountIdx,groupId:accountGroupId}))||void 0===_getOneAccountByGroup?void 0:_getOneAccountByGroup.eid)||"accountId";return accountId=null!==(_tempids$accountId=t([{eid:-1,address:{vault:vault.eid,index:index,hex:address,pk:privateKey}},"cfx"===type&&{eid:-1,address:{cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(address),base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_4__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(address),netId,!0)}},{eid:eid,network:{address:-1}},{eid:accountId,account:{index:nextAccountIdx,nickname:null!=nickname?nickname:"Account "+(nextAccountIdx+1),address:-1,hidden:!1}},{eid:accountGroupId,accountGroup:{account:accountId}}]).tempids.accountId)&&void 0!==_tempids$accountId?_tempids$accountId:accountId}))})))[0]}},277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1331),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1326),_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1322),browser_passworder__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1325),NAME="wallet_createAddress",schemas={inputs:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["networkId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k]]},permissions={methods:[],db:["getPassword","getAccountGroupById","getNetworkById","t"]},main=async function(_ref){var InvalidParam=_ref.Err.InvalidParam,_ref$db=_ref.db,getNetworkById=_ref$db.getNetworkById,getAccountGroupById=_ref$db.getAccountGroupById,getPassword=_ref$db.getPassword,t=_ref$db.t,_ref$params=_ref.params,networkId=_ref$params.networkId,accountGroupId=_ref$params.accountGroupId,network=getNetworkById(networkId);if(!network)throw InvalidParam("Invalid network id "+networkId);var group=getAccountGroupById(accountGroupId);if(!group)throw InvalidParam("Invalid account group id "+accountGroupId);var vault=group.vault;if("pub"===vault.type&&vault.cfxOnly&&"cfx"!==network.type)throw InvalidParam("Can't create address for cfx only vault in eth network");var pwd=getPassword(),decrypted=vault.ddata||await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_4__.decrypt)(pwd,vault.data);if("pub"===vault.type)return[t([{eid:"newAddr",address:{vault:vault.eid,index:0,hex:decrypted}},"cfx"===network.type&&{eid:"newAddr",address:{cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(decrypted),base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(decrypted),network.netId,!0)}},{eid:group.account[0].eid,account:{address:"newAddr"}},{eid:network.eid,network:{address:"newAddr"}}]).tempids.newAddr];if("pk"===vault.type){var hex=Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.a)(decrypted);return[t([{eid:"newAddr",address:{vault:vault.eid,index:0,hex:hex}},"cfx"===network.type&&{eid:"newAddr",address:{cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(hex),base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(hex),network.netId,!0)}},{eid:group.account[0].eid,account:{address:"newAddr"}},{eid:network.eid,network:{address:"newAddr"}}]).tempids.newAddr]}return await Promise.all(group.account.map((async function(account){return{account:account,addr:await Object(_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_1__.a)({mnemonic:decrypted,hdPath:network.hdPath.value,nth:account.index,only0x1Prefixed:vault.cfxOnly})}}))).then((function(toCreates){return toCreates.map((function(_ref2){var account=_ref2.account,_ref2$addr=_ref2.addr,privateKey=_ref2$addr.privateKey,address=_ref2$addr.address,index=_ref2$addr.index;return t([{eid:"newAddr",address:{vault:vault.eid,index:index,hex:address,pk:privateKey}},"cfx"===network.type&&{eid:"newAddr",address:{cfxHex:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(address),base32:Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__.b)(Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_3__.f)(address),network.netId,!0)}},{eid:account.eid,account:{address:"newAddr"}},{eid:network.eid,network:{address:"newAddr"}}]).tempids.newAddr}))}))}},278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_deleteAccountGroup",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]]},permissions={db:["getAccountGroupById","deleteVaultById","deleteAccountGroupById"],external:["popup"],methods:["wallet_validatePassword"]},main=async function(_ref){var Err=_ref.Err,wallet_validatePassword=_ref.rpcs.wallet_validatePassword,_ref$db=_ref.db,getAccountGroupById=_ref$db.getAccountGroupById,deleteVaultById=_ref$db.deleteVaultById,deleteAccountGroupById=_ref$db.deleteAccountGroupById,_ref$params=_ref.params,accountGroupId=_ref$params.accountGroupId,password=_ref$params.password;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Incorrect password");var group=getAccountGroupById(accountGroupId);if(!group)throw Err.InvalidParams("Invalid account group id "+accountGroupId);return deleteVaultById(group.vault.eid),deleteAccountGroupById(group.eid)}},279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_deleteNetwork",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y],["networkId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k]]},permissions={external:["popup"],db:["deleteNetworkById","getNetworkById"],methods:["wallet_validatePassword"]},main=async function(_ref){var InvalidParams=_ref.Err.InvalidParams,_ref$db=_ref.db,deleteNetworkById=_ref$db.deleteNetworkById,getNetworkById=_ref$db.getNetworkById,wallet_validatePassword=_ref.rpcs.wallet_validatePassword,_ref$params=_ref.params,password=_ref$params.password,networkId=_ref$params.networkId;if(!await wallet_validatePassword({password:password}))throw InvalidParams("Incorrect password");var network=getNetworkById(networkId);if(!network)throw InvalidParams("Invalid network id "+networkId);if(network.builtin)throw InvalidParams("Not allowed to delete builtin network");return deleteNetworkById(networkId)}},280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_detectNetworkType",schemas={inputs:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["url",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.D]]},permissions={external:["popup","inpage"],locked:!0},main=async function(_ref){var _rst,_rst2,rst,f=_ref.f,InvalidParams=_ref.Err.InvalidParams,url=_ref.params.url;try{rst=await f({networkName:url,network:{endpoint:url,name:url},method:"cfx_getStatus"},[])}catch(err){throw InvalidParams("Invalid rpc endpoint "+url)}if(null!==(_rst=rst)&&void 0!==_rst&&_rst.result)return{chainId:rst.result.chainId,netId:parseInt(rst.result.networkId,16).toString(),type:"cfx"};try{rst=await f({networkName:url,network:{endpoint:url,name:url},method:"eth_chainId"},[])}catch(err){throw InvalidParams("Invalid rpc endpoint "+url)}if(null!==(_rst2=rst)&&void 0!==_rst2&&_rst2.result){var netId=(await f({networkName:url,network:{endpoint:url,name:url},method:"net_version"},[])).result;return{netId:parseInt(netId,10).toString(),chainId:rst.result,type:"eth"}}throw InvalidParams("Unsupported network type")}},281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1331),browser_passworder__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1325),NAME="wallet_exportAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]]},permissions={db:["getAccountById","getAddressNetwork","getAccountAccountGroup"],methods:["wallet_validatePassword","wallet_exportAccountGroup"],external:["popup"]},main=async function(_ref){var _accountGroup$vault,Err=_ref.Err,_ref$db=_ref.db,getAccountById=_ref$db.getAccountById,getAddressNetwork=_ref$db.getAddressNetwork,getAccountAccountGroup=_ref$db.getAccountAccountGroup,_ref$rpcs=_ref.rpcs,wallet_validatePassword=_ref$rpcs.wallet_validatePassword,wallet_exportAccountGroup=_ref$rpcs.wallet_exportAccountGroup,_ref$params=_ref.params,password=_ref$params.password,accountId=_ref$params.accountId;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");var account=getAccountById(accountId),accountGroup=getAccountAccountGroup(accountId);if(null==accountGroup||null===(_accountGroup$vault=accountGroup.vault)||void 0===_accountGroup$vault||!_accountGroup$vault.type)throw Err.InvalidParams("Invalid account id "+accountId);var vault=accountGroup.vault;if("hd"!==vault.type)return await wallet_exportAccountGroup({password:password,accountGroupId:accountGroup.eid});var decrypted=vault.ddata||Object(browser_passworder__WEBPACK_IMPORTED_MODULE_2__.decrypt)(password,vault.data),rst=account.address.map((async function(_ref2){var index=_ref2.index,hex=_ref2.hex,cfxHex=_ref2.cfxHex,base32=_ref2.base32,pk=_ref2.pk,eid=_ref2.eid,network=getAddressNetwork(eid),hdPath=network.hdPath.value;return{hex:hex,cfxHex:cfxHex,base32:base32,privateKey:pk||(await Object(_cfxjs_hdkey__WEBPACK_IMPORTED_MODULE_1__.a)({mnemonic:decrypted,hdPath:hdPath,nth:index,only0x1Prefixed:Boolean(vault.cfxOnly)})).privateKey,network:network}}));return await Promise.all(rst)}},282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1325),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1326),_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1329),NAME="wallet_exportAccountGroup",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]]},permissions={db:["getAccountGroupById"],methods:["wallet_validatePassword"],external:["popup"]},main=async function(_ref){var _group$vault,Err=_ref.Err,getAccountGroupById=_ref.db.getAccountGroupById,wallet_validatePassword=_ref.rpcs.wallet_validatePassword,_ref$params=_ref.params,password=_ref$params.password,accountGroupId=_ref$params.accountGroupId;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");var group=getAccountGroupById(accountGroupId);if(null==group||null===(_group$vault=group.vault)||void 0===_group$vault||!_group$vault.data)throw Err.InvalidParams("Invalid account group id "+accountGroupId);var decrypted=group.vault.ddata||await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,group.vault.data);return"pub"===group.vault.type&&group.vault.cfxOnly&&(decrypted=Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_2__.b)(decrypted,_cfxjs_fluent_wallet_consts__WEBPACK_IMPORTED_MODULE_3__.b,!0)),decrypted}},283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1326),_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1322),base=[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0}],hex=["hex",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C],base32=["base32",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C],addrType=["type",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.a],cfx=["cfx",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C],ethAddressSchema=[].concat(base,[hex,["eth",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C]]),cfxHexAddressSchema=[].concat(base,[hex,cfx,addrType]),cfxBase32AddressSchema=[].concat(base,[base32,cfx,addrType,["networkId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.v]]),schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,ethAddressSchema,cfxHexAddressSchema,cfxBase32AddressSchema]},permissions={locked:!0,external:["popup","inpage"]},main=function(_ref){var _ref$params=_ref.params,eth=_ref$params.eth,base32=_ref$params.base32,hex=_ref$params.hex,networkId=_ref$params.networkId,type=_ref$params.type;return eth?Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.d)():hex?function(type){return type?Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.d)(type):Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_2__.c)()}(type):base32?Object(_cfxjs_base32_address__WEBPACK_IMPORTED_MODULE_1__.c)(type,networkId):void 0}},284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var bip39__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1333),_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1319),NAME="wallet_generateMnemonic",schemas={output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.u},permissions={locked:!0,external:["popup","inpage"]},main=function(){return Object(bip39__WEBPACK_IMPORTED_MODULE_0__.generateMnemonic)()}},285:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_account__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1322),_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1319),NAME="wallet_generatePrivateKey",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.x,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.w,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.s,["entropy",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.A]]],output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.z},permissions={locked:!0,external:["popup","inpage"]};async function main(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},params=_ref.params;return Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_0__.e)(null==params?void 0:params.entropy)}},286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_getAccountGroup",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.t,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["includeHidden",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C],["type",{optional:!0},[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.m,"hd","pk","pub"]]]]},permissions={db:["getAccountGroup"],external:["popup"]},main=function(_ref){var _ref$params=_ref.params,params=void 0===_ref$params?{}:_ref$params,getAccountGroup=_ref.db.getAccountGroup,accountGroupId=params.accountGroupId,includeHidden=params.includeHidden,type=params.type,query={};accountGroupId&&(query.eid=accountGroupId),includeHidden&&(query.hidden=!0);var accoungGroup=getAccountGroup(query)||[];return type?accoungGroup.filter((function(g){return g.vault.type===type})):accoungGroup}},287:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_addr_by_network__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1367);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NAME="wallet_getBalance",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p],[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f]]},permissions={locked:!0,methods:["cfx_getBalance","eth_getBalance"],external:["popup","inpage"]},main=async function(_ref){var _ref$rpcs=_ref.rpcs,cfx_getBalance=_ref$rpcs.cfx_getBalance,eth_getBalance=_ref$rpcs.eth_getBalance,address=_slicedToArray(_ref.params,1)[0],_ref$network=_ref.network,type=_ref$network.type,netId=_ref$network.netId;address=Object(_cfxjs_addr_by_network__WEBPACK_IMPORTED_MODULE_1__.a)({address:address,networkType:type,networkId:netId,addressType:"user"});var getBalance="cfx"===type?cfx_getBalance:eth_getBalance;return await getBalance([address])}},288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_addr_by_network__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1367);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NAME="wallet_getNextNonce",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f],[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.j,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p]]},permissions={locked:!0,methods:["cfx_getNextNonce","eth_getTransactionCount"],external:["popup","inpage"]},main=async function(_ref){var _ref$rpcs=_ref.rpcs,eth_getTransactionCount=_ref$rpcs.eth_getTransactionCount,cfx_getNextNonce=_ref$rpcs.cfx_getNextNonce,address=_slicedToArray(_ref.params,1)[0],_ref$network=_ref.network,netId=_ref$network.netId,type=_ref$network.type;address=Object(_cfxjs_addr_by_network__WEBPACK_IMPORTED_MODULE_1__.a)({address:address,networkType:type,networkId:netId});var getNextNonce="cfx"===type?cfx_getNextNonce:eth_getTransactionCount;return await getNextNonce([address])}},289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_importAddress",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y],["address",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.x,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.p,_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.f]]]},permissions={methods:["wallet_addVault"],external:["popup"]},main=async function(_ref){var _ref$params=_ref.params,password=_ref$params.password,address=_ref$params.address,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault({password:password,address:address.toLowerCase()})}},290:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_importMnemonic",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["mnemonic",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.u],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y],["cfxOnly",{optional:!0,doc:"only derive conflux compatible address from this mnemonic"},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C],["force",{optional:!0,doc:"set to true to skip duplication check"},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.C]]},permissions={methods:["wallet_addVault"],external:["popup"]},main=async function(_ref){var params=_ref.params,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault(params)}},291:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_importPrivateKey",permissions={methods:["wallet_addVault"],external:["popup"]},schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["privateKey",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.z],["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]]},main=async function(_ref){var params=_ref.params,wallet_addVault=_ref.rpcs.wallet_addVault;return await wallet_addVault(params)}},292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var NAME="wallet_isLocked",permissions={db:["getLocked"],external:["popup"],locked:!0},main=function(_ref){return(0,_ref.db.getLocked)()}},293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var NAME="wallet_lock",permissions={db:["setLocked"],external:["popup"]},main=async function(_ref){(0,_ref.db.setLocked)(!0)}},294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),NAME="wallet_unlock",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]]},permissions={locked:!0,external:["popup"],methods:["wallet_validatePassword"],db:["setPassword"]},main=async function(_ref){var password=_ref.params.password,setPassword=_ref.db.setPassword,wallet_validatePassword=_ref.rpcs.wallet_validatePassword,Err=_ref.Err;if(!await wallet_validatePassword({password:password}))throw Err.InvalidParams("Invalid password");setPassword(password)}},295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_checks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1344),NAME="wallet_updateAccount",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["nickname",{optional:!0},[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:1,max:64,doc:"Nickname of this account, a string with 1 to 64 characters"}]],["hidden",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.i]]},permissions={db:["t","getAccountById","getAccountGroup","anyDupNickAccount"],external:["popup"]},main=async function(_ref){var InvalidParams=_ref.Err.InvalidParams,_ref$db=_ref.db,getAccountById=_ref$db.getAccountById,t=_ref$db.t,anyDupNickAccount=_ref$db.anyDupNickAccount,_ref$params=_ref.params,nickname=_ref$params.nickname,hidden=_ref$params.hidden,accountId=_ref$params.accountId;if(!getAccountById(accountId))throw InvalidParams("Invalid account id "+accountId);if(nickname&&anyDupNickAccount({accountId:accountId,nickname:nickname}))throw InvalidParams(`Invalid nickname ${nickname}, duplicate with other account in the same account group`);t([nickname&&{eid:accountId,account:{nickname:nickname}},Object(_cfxjs_checks__WEBPACK_IMPORTED_MODULE_1__.a)(hidden)&&{eid:accountId,account:{hidden:hidden}}])}},296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),_cfxjs_checks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1344),NAME="wallet_updateAccountGroup",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["accountGroupId",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.k],["nickname",{optional:!0},[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:1,max:64,doc:"Nickname of this accountGroup, a string with 1 to 64 characters"}]],["hidden",{optional:!0},_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.i]]},permissions={db:["t","getAccountGroupById","getAccountGroupByNickname"],external:["popup"]},main=async function(_ref){var InvalidParams=_ref.Err.InvalidParams,_ref$db=_ref.db,getAccountGroupById=_ref$db.getAccountGroupById,t=_ref$db.t,getAccountGroupByNickname=_ref$db.getAccountGroupByNickname,_ref$params=_ref.params,nickname=_ref$params.nickname,hidden=_ref$params.hidden,accountGroupId=_ref$params.accountGroupId;if(!getAccountGroupById(accountGroupId))throw InvalidParams("Invalid accountGroupId "+accountGroupId);if(nickname&&getAccountGroupByNickname(nickname).length)throw InvalidParams(`Invalid nickname ${nickname}, duplicate with other account group`);t([nickname&&{eid:accountGroupId,accountGroup:{nickname:nickname}},Object(_cfxjs_checks__WEBPACK_IMPORTED_MODULE_1__.a)(hidden)&&{eid:accountGroupId,accountGroup:{hidden:hidden}}])}},297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),bip39__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1333),NAME="wallet_validateMnemonic",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["mnemonic",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.B,{min:1}]]]},permissions={external:["popup","inpage"],locked:!0};var main=function(_ref){var mnemonic=_ref.params.mnemonic,words=mnemonic.split(" ").map((function(w){return null==w?void 0:w.trim()})).filter((function(w){return Boolean(w)})),lang=function getWordListByWord(word){for(var lang in bip39__WEBPACK_IMPORTED_MODULE_1__.wordlists){var _wordlists$lang;if(null!==(_wordlists$lang=bip39__WEBPACK_IMPORTED_MODULE_1__.wordlists[lang])&&void 0!==_wordlists$lang&&_wordlists$lang.includes(word))return lang}}(words[0]);if(!lang)return{valid:!1,invalidWord:words[0]};for(var wordlist=bip39__WEBPACK_IMPORTED_MODULE_1__.wordlists[lang],i=0;i<words.length;i++)if(!wordlist.includes(words[i]))return{valid:!1,invalidWord:words[i]};return{valid:Object(bip39__WEBPACK_IMPORTED_MODULE_1__.validateMnemonic)(mnemonic,wordlist)}}},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1319),browser_passworder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1325),NAME="wallet_validatePassword",schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.s,{closed:!0},["password",_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.y]],output:_cfxjs_spec__WEBPACK_IMPORTED_MODULE_0__.i},permissions={locked:!0,db:["getVault","getPassword","getLocked"]};async function main(_ref){var _ref$db=_ref.db,getVault=_ref$db.getVault,getLocked=_ref$db.getLocked,getPassword=_ref$db.getPassword,password=_ref.params.password;if(!getLocked())return password===getPassword();var vaults=getVault();if(!vaults.length)return!0;var valid=!1;try{await Object(browser_passworder__WEBPACK_IMPORTED_MODULE_1__.decrypt)(password,vaults[0].data),valid=!0}catch(err){valid=!1}return valid}},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var _cfxjs_account__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1322),_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1319),NAME="wallet_validatePrivateKey",permissions={external:["popup","inpage"],locked:!0},schemas={input:[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.s,{closed:!0},["privateKey",[_cfxjs_spec__WEBPACK_IMPORTED_MODULE_1__.B,{min:1}]]]},main=function(_ref){var privateKey=_ref.params.privateKey;return{valid:Object(_cfxjs_account__WEBPACK_IMPORTED_MODULE_0__.g)(privateKey)}}},300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NAME",(function(){return NAME})),__webpack_require__.d(__webpack_exports__,"schemas",(function(){return schemas})),__webpack_require__.d(__webpack_exports__,"permissions",(function(){return permissions})),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var spec=__webpack_require__(1319),hdkey=__webpack_require__(1331),utils=__webpack_require__(1330),bn=__webpack_require__(1553),bn_default=__webpack_require__.n(bn),checks=__webpack_require__(1344);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ZERO=new bn_default.a(0,10),hasTx=async function(_ref){var getTxCount=_ref.getTxCount,address=_ref.address,rst=!1;try{var _res$result,res=await getTxCount([address]);new bn_default.a(Object(utils.b)(null!==(_res$result=null==res?void 0:res.result)&&void 0!==_res$result?_res$result:res),16).gt(ZERO)&&(rst=!0)}catch(err){}return rst},hasBalance=async function(_ref2){var getBalance=_ref2.getBalance,address=_ref2.address,rst=!1;try{var _res$result2,res=await getBalance([address]);new bn_default.a(Object(utils.b)(null!==(_res$result2=null==res?void 0:res.result)&&void 0!==_res$result2?_res$result2:res),16).gt(ZERO)&&(rst=!0)}catch(err){}return rst},compose=__webpack_require__(1365),browser_passworder=__webpack_require__(1325),NAME="wallet_discoverAccounts",limitSchema=["limit",{optional:!0},[spec.r,{min:1,max:100,doc:"how many derivation we try, default to 10"}]],schemas={input:[spec.s,{closed:!0},["accountGroupId",spec.k],["waitTillFinish",{optional:!0},spec.C],limitSchema]},permissions={external:["popup"],methods:["wallet_getBalance","wallet_getNextNonce","wallet_createAccount"],db:["getAccountGroupById","getNetwork","getPassword"]},main=async function(_ref){var _accountGroup$account,_accountGroup$account2,_ref$rpcs=_ref.rpcs,wallet_getBalance=_ref$rpcs.wallet_getBalance,wallet_getNextNonce=_ref$rpcs.wallet_getNextNonce,wallet_createAccount=_ref$rpcs.wallet_createAccount,_ref$db=_ref.db,getAccountGroupById=_ref$db.getAccountGroupById,getNetwork=_ref$db.getNetwork,getPassword=_ref$db.getPassword,_ref$params=_ref.params,accountGroupId=_ref$params.accountGroupId,_ref$params$limit=_ref$params.limit,limit=void 0===_ref$params$limit?10:_ref$params$limit,waitTillFinish=_ref$params.waitTillFinish,InvalidParams=_ref.Err.InvalidParams,accountGroup=getAccountGroupById(accountGroupId);if(!accountGroup)throw InvalidParams("Invalid accountGroupId, account group not found");var oldAccountsCount=null!==(_accountGroup$account=null===(_accountGroup$account2=accountGroup.account)||void 0===_accountGroup$account2?void 0:_accountGroup$account2.length)&&void 0!==_accountGroup$account?_accountGroup$account:0,vault=accountGroup.vault;if("hd"===vault.type){var mnemonic=vault.ddata||await Object(browser_passworder.decrypt)(getPassword(),vault.data),networks=getNetwork(),promises=Promise.all(networks.map((async function(_ref2){var name=_ref2.name,hdPath=_ref2.hdPath;return await async function(){for(var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},getBalance=_ref3.getBalance,getTxCount=_ref3.getTxCount,mnemonic=_ref3.mnemonic,hdPath=_ref3.hdPath,_ref3$startFrom=_ref3.startFrom,startFrom=void 0===_ref3$startFrom?0:_ref3$startFrom,_ref3$max=_ref3.max,max=void 0===_ref3$max?10:_ref3$max,_ref3$only0x1Prefixed=_ref3.only0x1Prefixed,only0x1Prefixed=void 0!==_ref3$only0x1Prefixed&&_ref3$only0x1Prefixed,_ref3$return=_ref3.return0,return0=void 0!==_ref3$return&&_ref3$return,onFindOne=_ref3.onFindOne,found=[],i=startFrom;i<startFrom+max;i++){var rst=await Object(hdkey.a)({mnemonic:mnemonic,hdPath:hdPath,nth:i,only0x1Prefixed:only0x1Prefixed}),_await$Promise$all=await Promise.all([hasTx({getTxCount:getTxCount,address:rst.address}),hasBalance({getBalance:getBalance,address:rst.address})]),_await$Promise$all2=_slicedToArray(_await$Promise$all,2),txOk=_await$Promise$all2[0],balanceOk=_await$Promise$all2[1];if(!(return0&&0===i||txOk||balanceOk))return found;Object(checks.b)(onFindOne)&&await onFindOne(Object.assign({},rst,{nth:i})),found.push(Object.assign({},rst,{nth:i}))}return found}({getBalance:Object(compose.b)(wallet_getBalance,{networkName:name}),getTxCount:Object(compose.b)(wallet_getNextNonce,{networkName:name}),mnemonic:mnemonic,hdPath:hdPath.value,return0:0===oldAccountsCount,startFrom:oldAccountsCount,max:limit})}))).then((async function(found){for(var accountNumToCreate=found.reduce((function(acc,net){return Math.max(acc,net.length)}),0),accountIds=[],i=0;i<accountNumToCreate;i++)accountIds.push(await wallet_createAccount({accountGroupId:accountGroupId}));return accountIds}));return waitTillFinish?await promises:void 0}}}}]);